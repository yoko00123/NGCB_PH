"use strict";define(["app"],function(a){var b=function(e,l,k,f,q,m,j,p,o,h){var i="<div ng-if='showFooter' class='ngFooterPanel' ng-style='footerStyle()'><div class='ngTotalSelectContainer' ><div class='ngFooterTotalItems' ng-class=\"{'ngNoMultiSelect':!multiSelect}\"><span class='ngLabel'>View {{(totalServerItems==0?0:pagingOptions.pageSize=='All'?1:pagingOptions.pageSize*(pagingOptions.currentPage-1)+1)}}-{{(totalServerItems<(pagingOptions.pageSize*pagingOptions.currentPage)||pagingOptions.pageSize=='All'?totalServerItems:pagingOptions.pageSize*pagingOptions.currentPage)}} of {{totalServerItems}}</span><span ng-show='filterText.length>0' class='ngLabel'>({{i18n.ngShowingItemsLabel}} {{totalFilteredItemsLength()}})</span></div></div><div class='ngPagerContainer' style='float:right;margin-top:6px;' ng-if='enablePaging' ng-class=\"{'ngNoMultiSelect':!multiSelect}\"><div style='float:left;margin-right:10px;' class='ngRowCountPicker'><span style='float:left;margin-top:4.5px;' class='ngLabel'>{{i18n.ngPageSizeLabel}}&nbsp;</span><select style='float:left;height:25px;width:50px' ng-model='pagingOptions.pageSize'><option ng-repeat='size in pagingOptions.pageSizes'>{{size}}</option></select></div><div style='float:left;margin-right:10px;line-height:25px;' class='ngPagerControl' style='float:left;min-width:135px;'><button type='button' class='ngPagerButton' ng-click='pageToFirst()' ng-disabled='cantPageBackward()' title='{{i18n.ngPagerFirstTitle}}'><div class='ngPagerFirstTriangle'><div class='ngPagerFirstBar'></div></div></button><button type='button' class='ngPagerButton' ng-click='pageBackward()' ng-disabled='cantPageBackward()' title='{{i18n.ngPagerPrevTitle}}'><div class='ngPagerFirstTriangle ngPagerPrevTriangle'></div></button><button type='button' class='ngPagerButton' ng-click='pageForward()' ng-disabled='cantPageForward()' title='{{i18n.ngPagerNextTitle}}'><div class='ngPagerLastTriangle ngPagerNextTriangle'></div></button><button type='button' class='ngPagerButton' ng-click='pageToLast()' ng-disabled='cantPageToLast()' title='{{i18n.ngPagerLastTitle}}'><div class='ngPagerLastTriangle'><div class='ngPagerLastBar'></div></div></button></div></div></div>";l.pagingOptions={4077:{pageSizes:[10,20,50,100],pageSize:10,currentPage:1},5253:{pageSizes:[10,20,50,100],pageSize:10,currentPage:1},4084:{pageSizes:[10,20,50,100],pageSize:10,currentPage:1},};l.sortInfo={4077:{fields:["ApprovedDate"],directions:["ASC"],firstload:true},5253:{fields:["PositionApplied"],directions:["ASC"],firstload:true},4084:{fields:["ID"],directions:["DESC"],firstload:true},};angular.forEach(l.pagingOptions,function(r,g){l.$watch("pagingOptions["+g+"].pageSize",function(s,t){if(s!==t){if(l.pagingOptions[g].currentPage==1){l.refreshGrid(g,s,1,l.sortInfo[g].fields[0],l.sortInfo[g].directions[0],l.filter[g])}else{l.pagingOptions[g].currentPage=1}}});l.$watch("pagingOptions["+g+"].currentPage",function(s,t){if(s!==t){l.refreshGrid(g,l.pagingOptions[g].pageSize,s,l.sortInfo[g].fields[0],l.sortInfo[g].directions[0],l.filter[g])}});l.$watch("sortInfo["+g+"]",function(s,t){if(t.firstload){l.sortInfo[g].firstload=false}if(s!==t&&!t.firstload){l.refreshGrid(g,l.pagingOptions[g].pageSize,l.pagingOptions[g].currentPage,s.fields[0],s.directions[0],l.filter[g])}},true)});l.gridOptions={4077:{data:"gridData[4077]",virtualizationThreshold:50,columnDefs:[{field:"ID",width:30,displayName:"",cellTemplate:"<div class='ngCellText' ng-class='col.colIndex()'><span><a ui-sref='4077({ ID_4077:row.entity.$$rID})'><i class='fa fa-lg fa-fw fa-edit'></i></a></span></div>"},{field:"ApprovedDate",width:"*",displayName:"Date Posted",headerCellTemplate:p.get("nggrid/headerCellTemplateDate.html"),cellFilter:"date:'MM/dd/yyyy'"},{field:"Designation",width:"*",displayName:"Position Title",cellTemplate:"<div class='ngCellText' ng-class='col.colIndex()'><span class='control-label' ng-bind-html='row.entity.Designation | trustedHTML'></span></div>"},{field:"MRFNumber",width:"*",displayName:"MRF #",cellTemplate:"<div class='ngCellText' ng-class='col.colIndex()'><span class='control-label' ng-bind-html='row.entity.MRFNumber | trustedHTML'></span></div>"},{field:"Unprocessed",width:"*",displayName:"Unprocessed",cellTemplate:"<div class='ngCellText' ng-class='col.colIndex()'><span><a ui-sref='4077({ ID_4077:row.entity.$$rID})'>{{row.entity.Unprocessed}}</a></span></div>"},{field:"TotalApplicants",width:"*",displayName:"Total Applicants"},{field:"Status",width:"*",displayName:"Status",visible:false},],totalServerItems:k.totalServerItems[4077],groups:["Status"],groupsCollapsedByDefault:false,init:function(r,g){setTimeout(function(){g.gridOptions[4077].$gridServices.DomUtilityService.RebuildGrid(g.gridOptions[4077].$gridScope,g.gridOptions[4077].ngGrid)},500)}},5253:{data:"gridData[5253]",virtualizationThreshold:50,columnDefs:[{field:"PositionApplied",width:"*",displayName:"Position",cellTemplate:"<div class='ngCellText' ng-class='col.colIndex()'><span class='control-label' ng-bind-html='row.entity.PositionApplied | trustedHTML'></span></div>"},{field:"Name",width:"*",displayName:"Name",cellTemplate:"<div class='ngCellText' ng-class='col.colIndex()'><span class='control-label' ng-bind-html='row.entity.Name | trustedHTML'></span></div>"},],totalServerItems:k.totalServerItems[5253],init:function(r,g){setTimeout(function(){g.gridOptions[5253].$gridServices.DomUtilityService.RebuildGrid(g.gridOptions[5253].$gridScope,g.gridOptions[5253].ngGrid)},500)}},4084:{data:"gridData[4084]",virtualizationThreshold:50,columnDefs:[{field:"RecruitmentProcess",width:"*",displayName:"RecruitmentProcess",cellTemplate:"<div class='ngCellText' ng-class='col.colIndex()'><span class='control-label' ng-bind-html='row.entity.RecruitmentProcess | trustedHTML'></span></div>"},{field:"RecruitmentProcessStatus",width:"*",displayName:"RecruitmentProcessStatus",cellTemplate:"<div class='ngCellText' ng-class='col.colIndex()'><span class='control-label' ng-bind-html='row.entity.RecruitmentProcessStatus | trustedHTML'></span></div>"},],totalServerItems:k.totalServerItems[4084],init:function(r,g){setTimeout(function(){g.gridOptions[4084].$gridServices.DomUtilityService.RebuildGrid(g.gridOptions[4084].$gridScope,g.gridOptions[4084].ngGrid)},500)}},};l.filter={4077:{},5253:{},4084:{},};e("BaseListController",{$scope:l,resources:k});l.GetApplicantStatus=function(g){var r;r=jQuery.grep(l.gridData[4084],function(s,t){return s.ID==g});return r};l.loadModal=function(t,r,g,s){f.getMenuDropdownSources({mID:4084,rID:(t==undefined)?g:t.ID}).then(function(v){var u=h.create("Dialogs/c4084Dialog.html","c4084Dialog",{row:t,dropdown_source:v.dropdown_source,autocomplete_source:v.autocomplete_source,id:g,name:s},{size:"md",keyboard:true,backdrop:true,windowClass:"my-class"});u.result.then(function(w){f.SaveSchedule(w).then(function(x){j.add(x.message,"info",5000);refreshGrid(4084,0,1,"SeqNo","ASC",{});refreshGrid(5253,0,1,"PositionApplied","ASC",{})})},function(){})})};l.uploadForHiringDoc=function(r,g){f.getMenuDropdownSources({mID:4084,rID:r.ID}).then(function(t){var s=h.create("Dialogs/c4084DialogForHiring.html","c4084DialogForHiring",{row:r,ID_Employee:l.Session.ID_Employee,dropdown_source:t.dropdown_source},{size:"md",keyboard:true,backdrop:true,windowClass:"my-class"});s.result.then(function(u){refreshGrid(4084,0,1,"SeqNo","ASC",{});refreshGrid(5253,0,1,"PositionApplied","ASC",{})},function(){})})};l.EndorseCandidates=function(t,g){var r;r=jQuery.grep(l.groups[t].rows,function(u,v){return u.IsChecked==1});if(r.length==0){j.add("select candidates to endorse for "+((g==2)?"hiring.":"employment."),"warning",5000)}else{var s=h.confirm(undefined,"Endorse candidates for "+((g==2)?"hiring?":"employment?"),{size:"sm"});s.result.then(function(u){var v={params:"",statusid:g};for(var w=0;w<r.length;w++){v.params+=r[w].ID;if(w+1<r.length){v.params+=","}}f.EndorseCandidate(v).then(function(x){refreshGrid(4084,0,1,"SeqNo","ASC",{});refreshGrid(5253,0,1,"PositionApplied","ASC",{});j.add(x.message,"info",5000)})},function(u){})}};function n(g,r){g.sort(function(s,t){if(s[r]<=t[r]){return(-1)}return(1)})}l.sort={column:"Name",descending:false};l.group=function(z,r,y){var s=r.split(",");var g=s[0];n(z,g);var w="_INVALID_GROUP_VALUE_";var t=(g.substring(0,3).toLowerCase()=="id_")?g.substring(3):g;for(var x=0;x<z.length;x++){var u=z[x];if(u[t]!==w){var v={label:u[t],status:u.MrfStatus,type:u[g],groupid:g,rows:[],groups:[]};w=v.label;y.push(v)}v.rows.push(u)}if(s.length>1){for(var x=0;x<y.length;x++){l.group(y[x].rows,s.slice(1).join(),y[x].groups)}}};l.groups=[];l.group(l.gridData[5253],"PositionApplied,ID_RecruitmentStage",l.groups);l.toggleGroup=function(g){var s;if(g.target.nodeName.toLowerCase()=="span"){s=g.target.parentNode.parentNode.childNodes}else{if(g.target.nodeName.toLowerCase()=="div"){s=g.target.parentNode.childNodes}}for(var t=0;t<s.length;t++){if(s[t].nodeName.toLowerCase()=="div"){if(s[t].getAttribute("groupheader")!=1){s[t].style.display=(s[t].style.display=="none")?"":"none"}else{var r=s[t].querySelector("#arrow");r.className=(r.className=="expanded")?"collapsed":"expanded"}}}}};a.register.controller("c4076",["$controller","$scope","resources","dataService","utilService","$state","growlNotifications","$templateCache","Session","dialogs",b]);var c=function(j,e,i,f,h){j.NewProcess=(f.row==undefined)?1:0;j.Data={Schedule:(f.row==undefined)?null:f.row.Schedule,ID_Employee:(f.row==undefined)?null:f.row.ID_Employee,Employee:(f.row==undefined)?null:f.row.Employee,Comment:(f.row==undefined)?null:f.row.Comment,ID_RecruitmentProcess:(f.row==undefined)?null:f.row.ID_RecruitmentProcess,ID_RecruitmentProcessStatus:0,RecruitmentProcess:(f.row==undefined)?null:f.row.RecruitmentProcess,ID_RecruitmentApplications:(f.row==undefined)?f.id:f.row.ID,Name:(f.row==undefined)?f.name:f.row.Persona,ID:((f.row==undefined)?0:(f.row.SchedID==undefined)?0:f.row.SchedID)};j.dropdown_source=f.dropdown_source;j.autocomplete_source=f.autocomplete_source;j.setID=function(k,l,g){k[l.substring(3)]=g.Name;k[l]=g.ID};j.cancel=function(){i.dismiss("Canceled")};j.save=function(){i.close(j.Data)}};a.register.controller("c4084Dialog",["$scope","dataService","$modalInstance","data","growlNotifications",c]);var d=function(j,e,i,f,h){j.Title=f.row.RecruitmentProcess;j.Data={ID_Employee:(f.row.ID_RecruitmentProcess==5)?f.row.ID_Requestor:f.ID_Employee,Employee:(f.row.ID_RecruitmentProcess==5)?f.row.Requestor:f.Employee,Comment:"",ID_RecruitmentProcess:f.row.ID_RecruitmentProcess,ID_RecruitmentApplications:f.row.ID,RecruitmentProcess:f.row.RecruitmentProcess,Name:f.row.Persona,FileName:null,File_GUID:null,File:null,ID:0};j.dropdown_source=f.dropdown_source;j.AddFile=function(g){j.Data.File=g};j.cancel=function(){i.dismiss("Canceled")};j.save=function(){e.UploadForHiringDocument(j.Data).then(function(g){i.close()})}};a.register.controller("c4084DialogForHiring",["$scope","dataService","$modalInstance","data","growlNotifications",d])});