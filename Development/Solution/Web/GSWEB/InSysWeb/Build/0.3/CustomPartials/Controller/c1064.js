"use strict";define(["app"],function(a){var b=function(h,f,c,l,i,e,k,j){if(f.error!==undefined){e.add(f.error,"danger",5000)}h.Sum=function(g,d){return l.Sum(g,d)};h.Max=function(g,d){return l.Max(g,d)};h.Min=function(g,d){return l.Min(g,d)};h.Ave=function(g,d){return l.Ave(g,d)};h.mID=1064;h.rID=i.params.ID_1064;h.goPrevious=function(){i.go("1063",{},{reload:true,inherit:false,notify:true})};h.Session=j.data;h.Master=f.Master;h.Detail=f.Detail;h.dropdown_source=f.dropdown_source;h.rdb_source=f.rdb_source;h.autocomplete_source=f.autocomplete_source;h.gridOptions={4096:{data:"Detail[4096]",multiSelect:false,virtualizationThreshold:50,columnDefs:[{field:"ID_ManpowerPlanning",width:"*",displayName:"ID_ManpowerPlanning",visible:false,cellTemplate:"<input type='hidden' name='ID_ManpowerPlanning' class='form-control' ng-model='row.entity.ID_ManpowerPlanning'/>"},{field:"DesignationCode",width:"*",displayName:"Code",cellTemplate:"<div ng-form name='x' ng-class=\"{ 'has-error' : x.DesignationCode.$invalid && mainform.$submitted }\" ><input type='text' name='DesignationCode' placeholder='Code' disabled required class='form-control' ng-model='row.entity.DesignationCode'/></div>"},{field:"Name",width:"*",displayName:"Name",cellTemplate:"<div class='ngCellText' ng-class='col.colIndex()'><span class='control-label' ng-bind-html='row.entity.Name | trustedHTML'></span></div>"},{field:"Plantilla",width:"*",displayName:"Plantilla",cellTemplate:"<div ng-form name='x' ng-class=\"{ 'has-error' : x.Plantilla.$invalid && mainform.$submitted }\" ><input type='text' name='Plantilla' placeholder='Plantilla'  required ng-numeric-only class='form-control' ng-model='row.entity.Plantilla'/></div>"},{field:"Actual",width:"*",displayName:"Actual",cellTemplate:"<div ng-form name='x' ><input type='text' name='Actual' placeholder='Actual'  disabled ng-numeric-only class='form-control' ng-model='row.entity.Actual'/></div>"},{field:"Vacancy",width:"*",displayName:"Vacancy",cellTemplate:"<div ng-form name='x' ><input type='text' name='Vacancy' placeholder='Vacancy'  disabled ng-numeric-only class='form-control' ng-model='row.entity.Vacancy'/></div>"},{field:"OnHold",width:"*",displayName:"OnHold",cellTemplate:"<div ng-form name='x' ><input type='text' name='OnHold' placeholder='OnHold'  disabled ng-numeric-only class='form-control' ng-model='row.entity.OnHold'/></div>"},{field:"Reallocate",width:"*",displayName:"Reallocate",cellTemplate:"<div ng-form name='x' ><input type='text' name='Reallocate' placeholder='Reallocate'  disabled ng-numeric-only class='form-control' ng-model='row.entity.Reallocate'/></div>"},{field:"ActiveVacancy",width:"*",displayName:"ActiveVacancy",cellTemplate:"<div ng-form name='x' ><input type='text' name='ActiveVacancy' placeholder='ActiveVacancy'  disabled ng-numeric-only class='form-control' ng-model='row.entity.ActiveVacancy'/></div>"},],init:function(g,d){setTimeout(function(){d.gridOptions[4096].$gridServices.DomUtilityService.RebuildGrid(d.gridOptions[4096].$gridScope,d.gridOptions[4096].ngGrid)},500)}},};h.removeRow=function(d,g){if(g.entity.ID==0){h.Detail[d].splice(g.rowIndex,1)}else{c.GridDelete(d,g.entity.ID).then(function(m){h.Detail[d].splice(g.rowIndex,1)})}};h.setID=function(g,m,d){g[m.substring(3)]=d.Name;g[m]=d.ID};h.getAutoCompleteItems=function(g,d,m){return c.getAutoCompleteItems(g,d,m).then(function(n){return n.items})};h.tabs=[];h.tabs.activeTab=(localStorage.getItem("mID")==h.mID?(localStorage.getItem("tab")==undefined?0:localStorage.getItem("tab")):0);localStorage.removeItem("mID");localStorage.removeItem("tab");h.loadedTab=[];h.loadTab=function(d){if(h.loadedTab.indexOf(d)==-1){c.loadTab(d,h.rID).then(function(g){h.Detail[d]=g.data;h.loadedTab.push(d)})}};h.selectedFiles=[];h.onFileSelect=function(d,n,o,m){for(var g=0;g<h.selectedFiles.length;g++){if(h.selectedFiles[g].mID==n&&h.selectedFiles[g].name==o&&h.selectedFiles[g].idx==m){h.selectedFiles.splice(g,1);break}}h.selectedFiles.push({file:d[0],mID:n,name:o,idx:m})};h.onExcelSelect=function(d,m,g,n,o){if(d.length>0){c.ImportExcelTemplate(m,g,d[0]).then(function(p){console.log(p);if(p.messageType==2){e.add(p.message,"anger",5000)}else{h.Detail[n]=p.data;h.tabs.activeTab=o;if(h.loadedTab.indexOf(n)==-1){h.loadedTab.push(n)}e.add(p.message,"info",5000)}})}};h.CascadingDropdown=function(m,d,n,g){c.CascadingDropdown(m,d,n).then(function(q){var o=g.split(",");for(var p=0;p<o.length;p++){h.dropdown_source[o[p]]=q.data[o[p]]}})}};a.register.controller("c1064",["$scope","resources","dataService","utilService","$state","growlNotifications","$templateCache","Session",b])});