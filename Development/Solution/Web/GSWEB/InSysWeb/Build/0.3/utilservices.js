"use strict";define(["app"],function(a){var b=function(){var d={},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";d.Sum=function(g,e){var f=0;var h;if(g.aggChildren.length==0){angular.forEach(g.children,function(i){h=i.getProperty(e);if(h){f+=h}})}else{angular.forEach(g.aggChildren,function(i){angular.forEach(i.children,function(j){h=j.getProperty(e);if(h){f+=h}})})}return f};d.Max=function(g,e){var f=0;var h;angular.forEach(g.children,function(i){h=i.getProperty(e);if(h>f){f=h}});return f};d.Min=function(g,e){var f=null;var h;angular.forEach(g.children,function(i){h=i.getProperty(e);if(f===null){f=h}if(h<=f){f=h}});return f};d.Ave=function(g,e){var f=d.Sum(g,e)/g.children.length;return f};d.pushArray=function(e,f){angular.forEach(f,function(h,g){e[g]=h})};d.Encode=function(h){var v="";var l,p,k,q,m,w,g;var j=0;h=d._utf8_encode(h);while(j<h.length){l=h.charCodeAt(j++);p=h.charCodeAt(j++);k=h.charCodeAt(j++);q=l>>2;m=(l&3)<<4|p>>4;w=(p&15)<<2|k>>6;g=k&63;if(isNaN(p)){w=g=64}else{if(isNaN(k)){g=64}}v=v+c.charAt(q)+c.charAt(m)+c.charAt(w)+c.charAt(g)}return v};d.Decode=function(h){var v="";var l,p,k;var q,m,w,g;var j=0;h=h.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(j<h.length){q=this._keyStr.indexOf(h.charAt(j++));m=this._keyStr.indexOf(h.charAt(j++));w=this._keyStr.indexOf(h.charAt(j++));g=this._keyStr.indexOf(h.charAt(j++));l=q<<2|m>>4;p=(m&15)<<4|w>>2;k=(w&3)<<6|g;v=v+String.fromCharCode(l);if(w!=64){v=v+String.fromCharCode(p)}if(g!=64){v=v+String.fromCharCode(k)}}v=d._utf8_decode(v);return v};d._utf8_encode=function(f){f=f.replace(/\r\n/g,"\n");var i="";for(var g=0;g<f.length;g++){var h=f.charCodeAt(g);if(h<128){i+=String.fromCharCode(h)}else{if(h>127&&h<2048){i+=String.fromCharCode(h>>6|192);i+=String.fromCharCode(h&63|128)}else{i+=String.fromCharCode(h>>12|224);i+=String.fromCharCode(h>>6&63|128);i+=String.fromCharCode(h&63|128)}}}return i};d._utf8_decode=function(f){var i="";var g=0;var h=c1=c2=0;while(g<f.length){h=f.charCodeAt(g);if(h<128){i+=String.fromCharCode(h);g++}else{if(h>191&&h<224){c2=f.charCodeAt(g+1);i+=String.fromCharCode((h&31)<<6|c2&63);g+=2}else{c2=f.charCodeAt(g+1);c3=f.charCodeAt(g+2);i+=String.fromCharCode((h&15)<<12|(c2&63)<<6|c3&63);g+=3}}}return i};d.getTree=function(f,n,m){if(!f||f.length==0||!n||!m){return[]}var q=[],p=[],h=f[0],o=h[n],r={},l,k,j=f.length,g=0;function e(i,s){return i[n]-s[n]}f.sort(e);while(g<j){h=f[g++];o=h[n];r[o]=h;l=h[m];if(l){k=r[l];if(k!=undefined){if(k.children){k.children.push(h)}else{k.children=[h]}}else{if(!h.children){h.children=[]}p.push(o)}}else{p.push(o)}}for(var g=0;g<p.length;g++){q.push(r[p[g]])}return q};return d};a.factory("utilService",b)});