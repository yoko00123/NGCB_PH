"use strict";define(["app"],function(a){var i=function(ae){var af=0;for(var ad in ae){if(ae[ad]&&ae[ad].hasOwnProperty&&ae[ad].hasOwnProperty("$invalid")&&ae[ad].$name!="import-excel"){if(ae[ad].$invalid){return af}af++}}return 0};var j=function(ae){var af=1;for(var ad in ae){if(ae[ad]&&ae[ad].hasOwnProperty&&ae[ad].hasOwnProperty("$invalid")){if(String(ae[ad].$name).indexOf("master")>-1){if(ae[ad].$invalid){return af}af++}}}return 0};var ab=angular.module("wDirectives",[]);var p=function(ae,ad,af){return{restrict:"A",replace:true,transclude:true,scope:{menus:"="},template:'<ul><li sly-repeat="menu in menus" ng-class="{ \'open && !isMenuOnTop() \' : menu.Collapsed }" ><a href="" ng-if="menu.Children.length > 0" ng-click="collapse(menu)"  ><span class="menu-item-parent">{{menu.Name}}</span><b class="collapse-sign" ng-if="!menu.Collapsed && isMenuOnTop()"><em class="fa fa-plus-square-o"></em></b><b class="collapse-sign" ng-if="menu.Collapsed && isMenuOnTop()"><em class="fa fa-minus-square-o"></em></b></a><a ng-if="menu.Children.length == 0" ui-sref="{{menu.ID}}" ><span class="menu-item-parent">{{menu.Name}}</span></a><div ng-if="menu.Children.length > 0" ng-class="{ \'show\' : menu.Collapsed, \'hide\' : !menu.Collapsed }"  ng-recursive-menu menus="menu.Children" class="animate-show" ><div ng-transclude></div></div></li></ul>',compile:function(aj,ag,ak){var ai=aj.contents().remove();var ah;return function(an,am,al){if(!ah){ah=ae(ai,ak)}an.collapse=function(ao){console.log(af);if(af){return}ao.Collapsed=!ao.Collapsed};an.isMenuOnTop=function(){return !af};ah(an,function(ao,ap){am.append(ao)})}},}};ab.directive("ngRecursiveMenu",["$compile","$document","isNotMobile",p]);var Y=function(ae,ad,af){return{restrict:"A",link:function(ai,ah){var aj,ag,ak;return ag=angular.element(ad[0].body),ah.on("click",function(al){al.stopPropagation();return ag.hasClass("hidden-menu")?ag.removeClass("hidden-menu"):(ag.addClass("hidden-menu"),ae.$broadcast("hideNav:enabled")),al.preventDefault()}),aj=void 0,ak=function(){var al;return al=af.innerWidth,768>al?ag.removeClass("hidden-menu"):void 0},angular.element(af).bind("resize",function(){var al;return clearTimeout(al),al=setTimeout(ak,300)}),angular.element(af).bind("click",function(al){al.stopPropagation();return ag.hasClass("hidden-menu")?ag.removeClass("hidden-menu"):ae.$broadcast("hideNav:enabled"),al.preventDefault()})}}};ab.directive("toggleHideNav",["$rootScope","$document","$window",Y]);var X=function(ae,ad){return{restrict:"A",link:function(ai,ag){var af,ah=document.documentElement;return af=angular.element(ad[0].body),ag.on("click",function(aj){return af.hasClass("full-screen")?(af.removeClass("full-screen"),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()):(af.addClass("full-screen"),ah.requestFullscreen?ah.requestFullscreen():ah.mozRequestFullScreen?ah.mozRequestFullScreen():ah.webkitRequestFullscreen?ah.webkitRequestFullscreen():ah.msRequestFullscreen&&ah.msRequestFullscreen())})}}};ab.directive("toggleFullScreen",["$rootScope","$document",X]);var V=function(ad){return{restrict:"A",link:function(ag,ae){var af;return af=ae.parent(),ad.on("click",function(ah){if(af.hasClass("open")){af.removeClass("open")}}),ae.on("click",function(ah){return af.hasClass("open")?af.removeClass("open"):af.addClass("open"),ah.stopPropagation()})}}};ab.directive("toggleDropdown",["$document",V]);var W=function(){return{restrict:"A",link:function(ah,ae,ad){var ag=ad.toggleFilter,af=angular.element("#grid-filter-"+ag);return ae.on("click",function(ai){return af.hasClass("hide")?af.removeClass("hide"):af.addClass("hide")})}}};ab.directive("toggleFilter",[W]);var U=function(ad){return{restrict:"EA",link:function(ag,af,ae){var ah='<div id="ribbon"><ol class="breadcrumb bcrumb"><li ng-repeat="breadcrumb in breadcrumbs">{{breadcrumb.name}}</li></ol></div>';ah=ad(ah)(ag);af.replaceWith(ah)}}};ab.directive("ngRibbon",["$compile",U]);var aa=function(ae,af,ag,ad){return{restrict:"EA",transclude:true,s:{wcOverlayDelay:"@"},template:'<div id="overlay-container" class="overlayContainer"><div id="overlay-background" class="overlayBackground"></div><div id="overlay-content" class="overlayContent" data-ng-transclude></div></div>',link:function(at,ai,ah){var ao=null,av=null,aw=null,am=false,an=true,ar=[];al();function al(){ay();if(window.jQuery){ax()}ao=document.getElementById("overlay-container")}function ay(){ad.request=function(az){ap();return az||ae.when(az)};ad.response=function(az){aq();return az||ae.when(az)};ad.responseError=function(az){aq();return az||ae.when(az)}}function ax(){$(document).ajaxStart(function(){ap()});$(document).ajaxComplete(function(){aq()});$(document).ajaxError(function(){aq()});var az=$("body");az.livequery("iframe",function(aA){ap();$("iframe").ready(function(aB){aq()})})}function ap(){ar.push({});if(ar.length==1){av=af(function(){if(ar.length){au()}},at.wcOverlayDelay?at.wcOverlayDelay:300)}}function aq(){ar.pop();if(ar.length==0){aw=af(function(){if(ar.length==0){ak();if(aw){af.cancel(aw)}}},at.wcOverlayDelay?at.wcOverlayDelay:300)}}function au(){var aD=0;var aC=0;if(!ag.innerWidth){if(!(document.documentElement.clientWidth==0)){aD=document.documentElement.clientWidth;aC=document.documentElement.clientHeight}else{aD=document.body.clientWidth;aC=document.body.clientHeight}}else{aD=ag.innerWidth;aC=ag.innerHeight}var az=document.getElementById("overlay-content");var aB=parseInt(aj(az,"width").replace("px",""));var aA=parseInt(aj(az,"height").replace("px",""));az.style.top=aC/2-(isNaN(aA)?0:aA)/2+"px";az.style.left=aD/2-aB/2+"px";ao.style.display="block"}function ak(){if(av){af.cancel(av)}ao.style.display="none"}var aj=function(){var az=null;if(document.defaultView&&document.defaultView.getComputedStyle){az=document.defaultView.getComputedStyle}else{if(typeof(document.body.currentStyle)!=="undefined"){az=function(aB,aA){return aB.currentStyle}}}return function(aA,aB){return az(aA,null)[aB]}}()}}},m=function(ad){ad.interceptors.push("httpInterceptor")},l=function(){return{}};ab.factory("httpInterceptor",l);ab.config(["$httpProvider",m]);ab.directive("wcOverlay",["$q","$timeout","$window","httpInterceptor",aa]);var b=function(af,ae,ag,ad){return{response:function(ah){if(ah.status===401){console.log("Response 401")}return ah||af.when(ah)},responseError:function(ah){if(ah.status===401){window.location="login.aspx"}if(ah.status===404||ah.status===500){ag(function(){ae.path("/404");setTimeout(function(){var ai=ad.get("$modalStack");var aj=ai.getTop();if(aj){ai.dismiss(aj.key)}},150)})}return af.reject(ah)}}},k=function(ad){ad.interceptors.push("authHttpResponseInterceptor")};ab.factory("authHttpResponseInterceptor",["$q","$location","$timeout","$injector",b]);ab.config(["$httpProvider",k]);var D=function(ad){return{restrict:"A",scope:"=",link:function(ai,af,ae){var ag=ae.mid,ah=ae.mtype;af.on("click",function(){var aj="ID_"+ag;var ak={};ak[aj]=0;switch(parseInt(ah)){case 3:ad.go(String(ag),ak);break;case 12:if(ad.current.name.split(".").indexOf(ag)==-1){ad.go(ad.current.name+"."+ag,ak)}else{ad.go(ad.current.name,ak)}break;default:}})}}};ab.directive("ngFormNew",["$state",D]);var G=function(ad,af,ag,ah,ae,ai){return{restrict:"A",scope:"=",link:function(ao,an,aj){var ak=aj.btnid,al=aj.confirm,am=aj.delay;an.on("click",function(){ao.mainform.$submitted=true;if(ao.mainform.$valid){localStorage.setItem("mID",ao.mID);localStorage.setItem("tab",ao.tabs.activeTab==undefined?0:ao.tabs.activeTab);if(al===undefined){ao.mainform.$setPristine();ad.Save(ao.mID,ao.rID,ak,ao.Master,ao.Detail,ao.selectedFiles).then(function(au){if(au.messageType==2){af.add(au.message,"danger",5000)}else{var aq="ID_"+ao.mID;var at={};at[aq]=au.ID;for(var ar in ag.params){if(ar!=aq){at[ar]=ag.params[ar]}}ag.go(ag.current,at,{reload:true,inherit:false,notify:true});af.add(au.message,"info",5000)}ao.mainform.$submitted=false})}else{var ap=ae.confirm(undefined,al,{size:"sm",keyboard:true,backdrop:true});ap.result.then(function(aq){ao.mainform.$setPristine();ad.Save(ao.mID,ao.rID,ak,ao.Master,ao.Detail,ao.selectedFiles).then(function(av){if(av.messageType==2){af.add(av.message,"danger",5000)}else{var ar="ID_"+ao.mID;var au={};au[ar]=av.ID;for(var at in ag.params){if(at!=ar){au[at]=ag.params[at]}}ag.go(ag.current,au,{reload:true,inherit:false,notify:true});af.add(av.message,"info",5000)}ao.mainform.$submitted=false})},function(aq){})}}else{ai(function(){if(ao.mainform.$error.pattern||ao.mainform.$error.minlength||ao.mainform.$error.maxlength){af.add("Invalid values on other fields.","danger",5000)}else{if(ao.mainform.$error.ngMin){af.add("Input value does not meet the minimum value.","danger",5000)}else{if(ao.mainform.$error.ngMax){af.add("Input value exceeded the maximum value.","danger",5000)}else{af.add("Fill all the required fields.","danger",5000)}}}ao.tabs.activeTab=i(ao.mainform)-(am==undefined?0:am)})}});ao.$on("destroy",function(){an.off()})}}};ab.directive("ngFormSave",["dataService","growlNotifications","$state","$stateParams","dialogs","$timeout",G]);var B=function(ad,af,ag,ae){return{restrict:"EA",link:function(al,ak,ah){var ai=ah.btnid,am=parseInt(ah.targetMid),an=ah.targetTab,aj=ah.confirm;ak.bind("click",function(){al.mainform.$submitted=true;var ap=j(al.mainform);if(ap==0){if(aj===undefined){ad.Generate(al.mID,al.rID,ai,al.Master).then(function(aq){if(aq.messageType==2){af.add(aq.message,"danger",5000)}else{af.add(aq.message,"info",5000);al.Detail[am]=aq.data;al.loadedTab.push(am);al.tabs.activeTab=an}al.mainform.$submitted=false})}else{var ao=ae.confirm(undefined,aj,{size:"sm",keyboard:true,backdrop:true});ao.result.then(function(aq){ad.Generate(al.mID,al.rID,ai,al.Master).then(function(ar){if(ar.messageType==2){af.add(ar.message,"danger",5000)}else{af.add(ar.message,"info",5000);al.Detail[am]=ar.data;al.loadedTab.push(am);al.tabs.activeTab=an}al.mainform.$submitted=false})},function(aq){})}}else{ag(function(){af.add("Fill all the required fields.","danger",5000);al.tabs.activeTab=ap-1})}})}}};ab.directive("ngFormGenerate",["dataService","growlNotifications","$timeout","dialogs",B]);var H=function(ad,af,ag,ae,ah){return{restrict:"A",scope:"=",link:function(am,al,ai){var aj=ai.btnid,ak=ai.confirm;al.bind("click",function(){am.mainform.$submitted=true;if(am.mainform.$valid){localStorage.setItem("mID",am.mID);localStorage.setItem("tab",am.tabs.activeTab==undefined?0:am.tabs.activeTab);if(ak===undefined){am.mainform.$setPristine();ad.SpecialCommand(am.mID,am.rID,aj,am.Master).then(function(ar){if(ar.messageType==2){af.add(ar.message,"danger",5000)}else{var ao="ID_"+am.mID;var aq={};aq[ao]=ar.ID;for(var ap in ag.params){if(ap!=ao){aq[ap]=ag.params[ap]}}if(ar.ID=="0"){ag.go(ar.mID,{},{reload:true})}else{ag.go(ag.current.name,aq,{reload:true})}af.add(ar.message,"info",5000)}am.mainform.$submitted=false})}else{var an=ae.confirm(undefined,ak,{size:"sm",keyboard:true,backdrop:true});an.result.then(function(ao){am.mainform.$setPristine();ad.SpecialCommand(am.mID,am.rID,aj,am.Master).then(function(at){if(at.messageType==2){af.add(at.message,"danger",5000)}else{var ap="ID_"+am.mID;var ar={};ar[ap]=at.ID;for(var aq in ag.params){if(aq!=ap){ar[aq]=ag.params[aq]}}if(at.ID=="0"){ag.go(at.mID,{},{reload:true})}else{ag.go(ag.current.name,ar,{reload:true})}af.add(at.message,"info",5000)}am.mainform.$submitted=false})},function(ao){})}}else{ah(function(){af.add("Fill all the required fields.","danger",5000);am.tabs.activeTab=i(am.mainform)})}})}}};ab.directive("ngFormSpecialCommand",["dataService","growlNotifications","$state","dialogs","$timeout",H]);var E=function(){return{restrict:"A",scope:"=",link:function(ag,ae,ad){var af=ad.ngFormPrint;ae.bind("click",function(){var aj=document.getElementById(af).innerHTML;var ah=document.body.innerHTML;var ai=window.open("","_blank","width=1200,height=800");ai.document.open();ai.document.write('<html><head><link rel="stylesheet" type="text/css" href="Styles/System/bootstrap.3.2.min.css" /><link rel="stylesheet" type="text/css" href="Styles/System/ng-grid.css"/><link rel="stylesheet" type="text/css" href="Styles/System/font-awesome.min.css"/><link rel="stylesheet" type="text/css" href="Styles/Default/default.css"/><link rel="stylesheet" type="text/css" href="Styles/Default/additional.css"/><link rel="stylesheet" type="text/css" href="Styles/Skins/green.css"/></head><body onload="window.print()">'+aj+"</html>");ai.document.close()})}}};ab.directive("ngFormPrint",E);var L=function(ad,ae){return{restrict:"A",scope:"=",link:function(ai,ag,af){var ah=af.ngLoadColumns;ag.on("click",function(){var aj=ae.create("Dialogs/LoadColumns.html","cLoadColumns",{columns:ai.gridOptions[ah].columnDefs,colException:"ID"},{size:"md",keyboard:true,backdrop:"static"});aj.result.then(function(ak){console.log(ak);ai.gridOptions[ah].columnDefs=ak;ai.gridOptions[ah].$gridScope.firstAdjustmentLeft=false;ai.gridOptions[ah].ngGrid.lateBoundColumns=false;ai.gridOptions[ah].$gridScope.columns.length=0;ai.gridOptions[ah].ngGrid.config.columnDefs=ak;ai.gridOptions[ah].ngGrid.buildColumns();ai.gridOptions[ah].ngGrid.eventProvider.assignEvents();ai.gridOptions[ah].$gridServices.DomUtilityService.RebuildGrid(ai.gridOptions[ah].$gridScope,ai.gridOptions[ah].ngGrid)},function(ak){})})}}};ab.directive("ngLoadColumns",["dataService","dialogs",L]);var v=function(ad,ae,af,ag){return{restrict:"A",scope:"=",link:function(ak,ai,ah){var aj=ah.ngColumnSelection;ai.on("click",function(){ad.ColumnSelection(aj).then(function(am){var al=ae.create("Dialogs/ColumnSelection.html?v="+Web_System_Version,"ColumnSelection",{columns:am.data},{size:"md",keyboard:true,backdrop:"static"});al.result.then(function(an){ad.SaveColumnSelection(aj,an).then(function(ao){console.log(an);if(ao.error.length>0){af.add(ao.error,"danger",5000)}else{ag.go(ag.current,ag.params,{reload:true,inherit:false,notify:true})}})},function(an){})})})}}};ab.directive("ngColumnSelection",["dataService","dialogs","growlNotifications","$state",v]);var J=function(ad,af,ae){return{restrict:"A",scope:"=",link:function(al,aj,ag){var ak=ag.mid,ah=ag.btnid,ai=ag.confirm;aj.bind("click",function(){if(ai===undefined){ad.GenerateExcelTemplate(ak,ah,al.rID==undefined?0:al.rID)}else{var am=ae.confirm(undefined,ai);am.result.then(function(an){ad.GenerateExcelTemplate(ak,ah,al.rID==undefined?0:al.rID)},function(an){})}})}}};ab.directive("ngGenerateExcelTemplate",["dataService","growlNotifications","dialogs",J]);var z=function(ad){return{restrict:"A",scope:"=",link:function(ah,af,ae){var ag=ae.mid;af.bind("click",function(){ad.ExportToExcel(ag,ah.pagingOptions[ag].pageSize,ah.pagingOptions[ag].currentPage,ah.sortInfo[ag].fields[0],ah.sortInfo[ag].directions[0],ah.filter[ag],ah.rID)})}}};ab.directive("ngExportToExcel",["dataService",z]);var q=function(ad,ae,af){return{restrict:"A",scope:"=",link:function(ak,ah,ag){var ai=ag.mid,aj=ag.mtype;ah.bind("click",function(){ad.AddNewRow(ai).then(function(al){if(aj=="17"){ak.gridData[ai].push(al.data)}else{ak.Detail[ai].push(al.data)}if(!ak.$$phase){ak.$apply()}})})}}};ab.directive("ngAddNewRow",["dataService","growlNotifications","$state",q]);var u=function(ad,ae,af){return{restrict:"A",scope:"=",link:function(ak,ai,ag){var ah=ag.btnid,aj=parseInt(ag.mid);ai.on("click",function(){ak["grid-"+aj].$submitted=true;if(ak["grid-"+aj].$valid){ad.BatchGridSave(aj,ah,ak.gridData[aj]).then(function(an){if(an.messageType==2){ae.add(an.message,"danger",5000)}else{var al="ID_"+ak.mID;var am={};am[al]=an.ID;af.go(af.current.name,am,{reload:true});ae.add(an.message,"info",5000)}ak["grid-"+aj].$submitted=false})}else{ae.add("Fill all the required fields.","danger",5000)}})}}};ab.directive("ngBatchGridSave",["dataService","growlNotifications","$state",u]);var s=function(ad,ae,af){return{restrict:"A",scope:"=",link:function(aj,ah,ag){var ai=ag.mid;ah.bind("click",function(){if(aj.gridOptions[ai].selectedItems.length==0){ae.add("Select a record.","danger",5000)}else{var al=new Array();for(var ak=0;ak<aj.gridOptions[ai].selectedItems.length;ak++){al.push(aj.gridOptions[ai].selectedItems[ak].ID)}ad.BatchGridDelete(ai,al).then(function(am){if(am.message!=""){ae.add(am.message,"danger",5000)}else{af.go(af.current.name,{},{reload:true});ae.add("Record deleted!","danger",5000)}})}})}}};ab.directive("ngBatchGridDelete",["dataService","growlNotifications","$state",s]);var r=function(ad,ae,af){return{restrict:"A",scope:"=",link:function(ak,ai,ag){var aj=ag.mid,ah=ag.btnid;ai.bind("click",function(){if(ak.gridOptions[aj].selectedItems.length==0){ae.add("Select a record.","danger",5000)}else{var am=new Array();for(var al=0;al<ak.gridOptions[aj].selectedItems.length;al++){am.push(ak.gridOptions[aj].selectedItems[al].ID)}ad.BatchGridCommand(aj,ah,am).then(function(an){af.go(af.current.name,{},{reload:true});ae.add(an.message,"info",5000)})}})}}};ab.directive("ngBatchGridCommand",["dataService","growlNotifications","$state",r]);var R=function(ad,ae){return{restrict:"EA",link:function(ah,ag,af){ag.bind("click",function(){ad.Publish(ah.Master).then(function(ai){ae.add(ai.message,"info",5000)})})}}};ab.directive("ngPublish",["dataService","growlNotifications",R]);var P=function(){return{restrict:"A",scope:"=",link:function(af,ae,ad){ae.bind("keydown",function(ag){if(ag.which!=8&&ag.which!=0&&(ag.which<48||ag.which>57)){return false}})}}};ab.directive("ngNumericOnly",[P]);var w=function(){return{restrict:"A",scope:"=",link:function(ag,ae,ad){var af=ad.fixedDecimal;ae.bind("change keydown keyup",function(ah){if(ah.which!=8&&ah.which!=0&&ah.which!=190&&ah.which!=110&&(ah.which<48||ah.which>57)){return false}if((ah.which==190||ah.which==110)&&ae.val().split(".").length-1>=1){return false}});if(af!=undefined){ae.bind("blur",function(ah){ae.val(parseFloat(ae.val()).toFixed(af))})}}}};ab.directive("ngCurrencyOnly",[w]);var Z=function(ae,ad){return{restrict:"A",scope:{feedbackType:"@",label:"@",formValidation:"@"},link:function(ak,ah,af){var aj=ah;var ai=aj.parent();function ag(al){function am(){ai.removeClass("has-feedback");ai.removeClass("has-success");ai.removeClass("has-warning");ai.removeClass("has-error");ai.find(".form-control-feedback").remove()}am();if(al==="SUCCESS"){ai.addClass("has-success")}else{if(al==="WARNING"){ai.addClass("has-warning")}else{if(al==="ERROR"){ai.addClass("has-error")}}}}ak.$on("validateFormEvent",function(al,am){if(ak.formValidation==="true"){ag("SUCCESS")}else{ag("ERROR")}})}}};ab.directive("validatedInput",["$tooltip","$interval",Z]);var ac=function(){return{restrict:"EA",link:function(af,ae,ad){$(ae).draggable()}}};ab.directive("wdraggable",[ac]);var e=function(){return{restrict:"A",require:"ngModel",link:function(ag,ae,ad,af){af.$parsers.push(function(ah){return moment(ah).format("YYYY-MM-DD 00:00:00")})}}};ab.directive("dateToIso",[e]);var d=function(){return{restrict:"A",link:function(af,ae,ad){ae.bind("click",function(){var ah=angular.element(document.getElementsByTagName("body"));var ai=[];var ag=function(ak){angular.forEach(["$scope","$isolateScope"],function(al){if(ak.data()&&ak.data().hasOwnProperty(al)){angular.forEach(ak.data()[al].$$watchers,function(am){ai.push(am)})}});angular.forEach(ak.children(),function(al){ag(angular.element(al))})};ag(ah);var aj=[];angular.forEach(ai,function(ak){if(aj.indexOf(ak)<0){aj.push(ak)}});console.log(aj.length)})}}};ab.directive("countWatch",[d]);var h=function(){return{require:"ngModel",link:function(ag,ae,ad,af){ae.bind("change",function(ah){var ai=ae.val().split("\\");ag.$apply(function(){af.$setViewValue(ai[ai.length-1]);af.$render()})})}}};ab.directive("fileInput",[h]);var I=function(ad,ae,af,ag){return{restrict:"A",scope:"=",link:function(ak,aj,ah){var ai=ah.btnid;aj.on("click",function(){ak.mainform.$submitted=true;if(ak.mainform.$valid){ad.FormUpload(ak.mID,ak.rID,ai,ak.Master,ak.Detail,ak.selectedFiles).then(function(an){if(an.messageType==2){ae.add(an.message,"danger",5000)}else{var al="ID_"+ak.mID;var am={};am[al]=an.ID;af.go(af.current,ag,{reload:true,inherit:false,notify:true});ae.add(an.message,"info",5000)}ak.mainform.$submitted=false})}else{ae.add("Fill all the required fields.","danger",5000);ak.tabs.activeTab=i(ak.mainform)}})}}};ab.directive("ngFormUpload",["dataService","growlNotifications","$state","$stateParams",I]);var g=function(ad){return{restrict:"A",link:function(ai,af,ae){var ag=ae.downloadFile,ah=ae.filename;af.on("click",function(){ad.downloadFile("Upload/"+ag,ah)})}}};ab.directive("downloadFile",["dataService",g]);var K=function(){return{restrict:"EA",scope:{data:"="},link:function(af,ae,ad){af.$watchCollection("data",function(ag,ah){React.renderComponent(list1010({data:ag}),ae[0])})}}};ab.directive("ngListing",[K]);var S=function(){return{restrict:"E",scope:{data:"=",mid:"="},link:function(af,ae,ad){if(af.mid=="4091"){af.$watchCollection("data",function(ag,ah){React.renderComponent(list4091({data:ag}),ae[0])})}else{if(af.mid=="4092"){af.$watchCollection("data",function(ag,ah){React.renderComponent(list4092({data:ag}),ae[0])})}}}}};ab.directive("ngReactListing",[S]);var Q=function(){return{restrict:"EA",scope:{data:"="},link:function(ag,af,ae){var ad=ag.$watchCollection("data",function(ah,ai){React.renderComponent(OrgChart({data:ah}),af[0]);console.log(af[0],"OrgChart");ad()})}}};ab.directive("ngOrgChart",[Q]);var T=function(){return{restrict:"A",link:function(ah,af,ad){var ae={showThumbs:true,ignoreSizing:true};var ag=["direction"];angular.forEach(ag,function(ai){if(angular.isDefined(ad[ai])){ae[ai]=ad[ai]}});setTimeout(function(){$(af[0]).overscroll(ae)},0)}}};ab.directive("overScroll",[T]);var c=function(){return{restrict:"A",link:function(ag,ae,ad){var af=angular.element(ae).parent().children(".pull-left");ae.bind("scroll",function(ah){$(af).scrollTop(angular.element(ae).prop("scrollTop"))})}}};ab.directive("comparisonScroll",[c]);var F=function(ad,af,ag,ah,ae,ai){return{restrict:"A",scope:"=",link:function(al,ak,aj){ak.on("click",function(){var ap=aj.mid;var ao=new Array();if(al.gridOptions!=undefined){if(al.gridOptions[ap]!=undefined){for(var an=0;an<al.gridOptions[ap].selectedItems.length;an++){ao.push(al.gridOptions[ap].selectedItems[an].ID)}}else{if(aj.customrefid!=undefined){ao.push(aj.customrefid)}else{ao.push(al.Master.ID)}}}else{if(aj.customrefid!=undefined){ao.push(aj.customrefid)}else{ao.push(al.Master.ID)}}var am=ae.create("Dialogs/PrintReport.html","PrintReport",{rID:ao,mID:ap},{size:"xl",keyboard:true,backdrop:"static",windowClass:"my-class"})})}}};ab.directive("ngFormPrintReport",["dataService","growlNotifications","$state","$stateParams","dialogs","$timeout",F]);function o(){var ad=new Date().getTime();t(function(){var ae=(new Date().getTime()-ad)+" ms";console.log("ANGULAR - List updated in: "+ae)})}var n=function(al,af,ak,ag){var ad=ag.cid;al.lookupdata={};al.lookupdata.data=ag.lookup_source;var ah=1,ai;var ae=[];var aj=ah;var ao=al.lookupdata.data[ah];for(ai in ao){var am=ai;var an=ao.j;ae.push(am)}al.lookupdata.col=ae;al.lookupdata.name=ag.label;al.cancel=function(){ak.dismiss()};al.getVal=function(ar,ap){var aq={};aq.Name=ap;aq.Value=ar;ak.close(aq)}};var C=function(ad,af,ag,ah,ae,ai){a.register.controller("LookUp",["$scope","dataService","$modalInstance","data",n]);return{restrict:"A",scope:{targetName:"=",targetValue:"=",targetSource:"="},link:function(al,ak,aj){ak.on("click",function(){var am=aj.cid;var ao=aj.ngModel;var an=ae.create("Dialogs/LookUp.html","LookUp",{lookup_source:al.targetSource,label:aj.placeholder,cid:am},{size:"xl",keyboard:true,backdrop:"static",windowClass:"my-class"});an.result.then(function(ap){al.targetName=ap.Name;al.targetValue=ap.Value})})}}};ab.directive("ngFormLookup",["dataService","growlNotifications","$state","$stateParams","dialogs","$timeout",C]);var f=function(am,af,ak,ag){var ad=ag.cid;am.detailedlookupdata={};am.detailedlookupdata.data=ag.detailedlookup_source;am.detailedValuelookup=ag.detailedValuelookup_source;angular.forEach(am.detailedValuelookup,function(at,ar){var aq=am.detailedlookupdata.data.filter(function(au){return au.ID==at.ID});am.detailedlookupdata.data.map(function(au,av){if(au.ID==aq[0].ID){am.detailedlookupdata.data[av].selected=true}})});var ah=1,ai;var ae=[];var aj=ah;var ap=am.detailedlookupdata.data[ah];for(ai in ap){var an=ai;var ao=ap.j;if(an!="selected"){ae.push(an)}}am.detailedlookupdata.col=ae;am.detailedlookupdata.name=ag.label;am.cancel=function(){ak.close(al)};var al={};al.Value=[];angular.forEach(am.detailedValuelookup,function(aq){al.Value.push(aq.ID)});am.getVal=function(ar){if($("#cbox_"+ar).is(":checked")){al.Value.push(ar)}else{var aq=al.Value.indexOf(ar);if(aq>-1){al.Value.splice(aq,1)}}};am.checkAll=function(aq){var ar=aq.target;var at=ar.checked;if(at){al.Value=[]}angular.forEach(am.detailedlookupdata.data,function(av){av.selected=at;if(at){al.Value.push(av.ID)}else{var au=al.Value.indexOf(av.ID);if(au>-1){al.Value.splice(au,1)}}})}};var A=function(ad,af,ag,ah,ae,ai){a.register.controller("DetailedLookUp",["$scope","dataService","$modalInstance","data",f]);return{restrict:"A",scope:{targetValue:"=",targetDetailSource:"=",targetSource:"="},link:function(al,ak,aj){ak.on("click",function(){var am=aj.cid;var ao=aj.ngModel;var an=ae.create("Dialogs/DetailedLookUp.html","DetailedLookUp",{detailedValuelookup_source:al.targetDetailSource,detailedlookup_source:al.targetSource,label:aj.placeholder,cid:am},{size:"xl",keyboard:true,backdrop:"static",windowClass:"my-class"});an.result.then(function(ap){al.targetValue=ap.Value;al.targetDetailSource=[];angular.forEach(ap.Value,function(ar){var aq={ID:ar};al.targetDetailSource.push(aq)})})})}}};ab.directive("ngFormDetailedLookup",["dataService","growlNotifications","$state","$stateParams","dialogs","$timeout",A]);var x=function(ad){return{restrict:"A",scope:"=",link:function(al,ah,ae){var af=ae.cid;var am="";al.detailedlookupdata={};al.detailedlookupdata.data=al.detailedlookup_source[af];var ai=1,aj;var ag=[];var ak=ai;var ap=al.detailedlookupdata.data[ai];for(aj in ap){var an=aj;var ao=ap.j;if(an!="selected"){ag.push(an)}}al.detailedlookupdata.col=ag;am+="<table width='100%' align='center' ng-if='detailedValuelookup_source["+af+"].length > 0' class='lookupgrid'>";am+="<thead>";am+="<th ng-repeat='title in detailedlookupdata.col'>{{title}}</th>";am+="</thead>";am+="<tbody>";am+="<tr ng-repeat='d in detailedValuelookup_source["+af+"]'>";am+="<td ng-repeat='t in detailedlookupdata.col' ng-lookup-filter-result filter-source='detailedlookup_source["+af+"]' filter-source-column='t' filter-source-value='d.ID'></td>";am+="</tr>";am+="</tbody>";am+="</table>";ah.append(ad(am)(al))}}};ab.directive("ngDetailedLookupGrid",["$compile",x]);var M=function(ad){return{restrict:"A",scope:{filterSourceColumn:"=",filterSourceValue:"=",filterSource:"="},link:function(ai,ah,af){var ae=ai.filterSource.filter(function(aj){return aj.ID==ai.filterSourceValue});var ag="";angular.forEach(ae[0],function(aj,ak,al){if(ak==ai.filterSourceColumn){ag=aj}});ah.append(ag)}}};ab.directive("ngLookupFilterResult",["$compile",M]);var O=function(){return{restrict:"A",require:"ngModel",link:function(ai,af,ad,ae){function ag(aj){return angular.isUndefined(aj)||aj===""||aj===null||aj!==aj}var ah=function(ak){var aj=ai.$eval(ad.ngMin)||0;if(!ag(ak)&&ak<aj){ae.$setValidity("ngMin",false);return undefined}else{ae.$setValidity("ngMin",true);return ak}};ae.$parsers.push(ah);ae.$formatters.push(ah)}}};ab.directive("ngMin",O);var N=function(){return{restrict:"A",require:"ngModel",link:function(ai,af,ad,ae){function ag(aj){return angular.isUndefined(aj)||aj===""||aj===null||aj!==aj}var ah=function(ak){var aj=ai.$eval(ad.ngMax)||Infinity;if(!ag(ak)&&ak>aj){ae.$setValidity("ngMax",false);return undefined}else{ae.$setValidity("ngMax",true);return ak}};ae.$parsers.push(ah);ae.$formatters.push(ah)}}};ab.directive("ngMax",N);var y=function(){return{restrict:"A",link:function(af,ae,ad){ae.bind("keydown keypress",function(ag){if(ag.which===13){af.$apply(function(){af.$eval(ad.ngEnter)});ag.preventDefault()}})}}};ab.directive("ngEnter",y)});