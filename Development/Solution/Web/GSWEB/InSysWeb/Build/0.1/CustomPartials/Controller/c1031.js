"use strict";define(["app"],function(a){var b=function(i,h,e,l,j,f,k,c){if(h.error!==undefined){f.add(h.error,"danger",5000)}i.Sum=function(g,d){return l.Sum(g,d)};i.Max=function(g,d){return l.Max(g,d)};i.Min=function(g,d){return l.Min(g,d)};i.Ave=function(g,d){return l.Ave(g,d)};i.goPrevious=function(){j.go("1021",{},{reload:true,inherit:false,notify:true})};i.Session=k.data;i.mID=1031;i.rID=j.params.ID_1031;i.Master=h.Master;i.Detail=h.Detail;i.dropdown_source=h.dropdown_source;i.rdb_source=h.rdb_source;i.autocomplete_source=h.autocomplete_source;i.text_autocomplete_source=h.text_autocomplete_source;i.removeRow=function(d,g){if(g.entity.ID==0){i.Detail[d].splice(g.rowIndex,1)}else{e.GridDelete(d,g.entity.ID).then(function(m){i.Detail[d].splice(g.rowIndex,1)})}};i.removeLiRow=function(m,g,d){if(d==0){i.Detail[m].splice(g,1)}else{e.GridDelete(m,d).then(function(n){i.Detail[m].splice(g,1)})}};i.setID=function(g,m,d){g[m.substring(3)]=d.Name;g[m]=d.ID;if(m=="ID_DesignationTOCS"){e.getJobDescription({ID:d.ID}).then(function(n){console.log(i.Master);i.Master.JobSummary=n.data.JobSummary;i.Master.KeyResponsibilities=n.data.KeyResponsibilities;i.Master.WorkLocation=n.data.WorkLocation;i.Master.ID_WorkExperiences=n.data.ID_WorkExperiences;i.Master.ID_EducationDegree=n.data.ID_EducationDegree;i.Master.Licenses=n.data.Licenses;i.Master.OtherQualifications=n.data.OtherQualifications})}};i.getAutoCompleteItems=function(g,d,m){return e.getAutoCompleteItems(g,d,m).then(function(n){return n.items})};i.tabs=[];i.tabs.activeTab=0;i.loadedTab=[];i.loadTab=function(d){if(i.loadedTab.indexOf(d)==-1){e.loadTab(d,i.rID).then(function(g){l.pushArray(i.dropdown_source,g.dropdown_source);l.pushArray(i.rdb_source,g.rdb_source);i.Detail[d]=g.data;i.loadedTab.push(d)})}};if(i.rID==0){i.editMode=true}else{i.editMode=false}i.Edit=function(){i.editMode=true};i.Cancel=function(){i.editMode=false};i.CascadingDropdown=function(m,d,n,g){e.CascadingDropdown(m,d,n).then(function(q){var o=g.split(",");for(var p=0;p<o.length;p++){i.dropdown_source[o[p]]=q.data[o[p]];switch(o[p]){case"9388":i.Master.ID_Division=null;break;case"1055":i.Master.ID_Department=null;break;case"9393":i.Master.ID_Section=null;break}}})};c.check(i)};a.register.controller("c1031",["$scope","resources","dataService","utilService","$state","growlNotifications","Session","ckFormPristine",b])});