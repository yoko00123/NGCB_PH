"use strict";define(["app"],function(a){var b=function(l,j,e,p,m,h,o,n,f){if(j.error!==undefined){h.add(j.error,"danger",5000)}l.Sum=function(q,g){return p.Sum(q,g)};l.Max=function(q,g){return p.Max(q,g)};l.Min=function(q,g){return p.Min(q,g)};l.Ave=function(q,g){return p.Ave(q,g)};l.mID=4077;l.rID=m.params.ID_4077;l.goPrevious=function(){m.go("4076",{},{reload:true,inherit:false,notify:true})};l.Session=n.data;l.Master=j.Master;l.Detail=j.Detail;l.dropdown_source=j.dropdown_source;l.rdb_source=j.rdb_source;l.autocomplete_source=j.autocomplete_source;l.gridOptions={4078:{data:"Detail[4078]",virtualizationThreshold:50,selectedItems:[],checkboxCellTemplate:"<div class='ngSelectionCell'><input ng-if='row.entity.IsCanMovetoFolder==1' tabindex='-1' class='ngSelectionCheckbox' type='checkbox' ng-checked='row.selected '   /></div>",showSelectionCheckbox:true,checkboxHeaderTemplate:"<input class='ngSelectionHeader' type='checkbox' ng-show='multiSelect' ng-model='allSelected' ng-change=\"toggleSelectAll(allSelected,true,'')\"/>",columnDefs:[{field:"ID",width:30,displayName:"",visible:true,cellTemplate:"<div class='ngCellText' ng-class='col.colIndex()'><span><a ui-sref='4077.4078({ ID_4078:row.entity.$$rID})'><i class='fa fa-lg fa-fw fa-edit'></i></a></span></div>"},{field:"Name",width:"210",displayName:"Applicant Name",visible:true,cellTemplate:"<div class='ngCellText' ng-class='col.colIndex()'><span class='control-label' ng-bind-html='row.entity.Name | trustedHTML'></span></div>"},{field:"TotalYearsExp",width:"*",visible:true,displayName:"Years of Experience"},{field:"LastPosition",width:"*",displayName:"Last Position",visible:true,cellTemplate:"<div class='ngCellText' ng-class='col.colIndex()'><span class='control-label' ng-bind-html='row.entity.LastPosition | trustedHTML'></span></div>"},{field:"LastCompany",width:"*",displayName:"Last Company",visible:true,cellTemplate:"<div class='ngCellText' ng-class='col.colIndex()'><span class='control-label' ng-bind-html='row.entity.LastCompany | trustedHTML'></span></div>"},{field:"HighestEducation",width:"*",displayName:"Education",visible:true,cellTemplate:"<div class='ngCellText' ng-class='col.colIndex()'><span class='control-label' ng-bind-html='row.entity.HighestEducation | trustedHTML'></span></div>"},{field:"Age",width:"45",visible:true,displayName:"Age"},{field:"City",width:"*",displayName:"City",visible:true,cellTemplate:"<div class='ngCellText' ng-class='col.colIndex()'><span class='control-label' ng-bind-html='row.entity.City | trustedHTML'></span></div>"},{field:"ProcessStage",width:"*",displayName:"Process Stage",visible:true,cellTemplate:"<div class='ngCellText' ng-class='col.colIndex()'><span class='control-label' ng-bind-html='row.entity.ProcessStage | trustedHTML'></span></div>"},{field:"Schedule",width:"*",displayName:"Schedule",visible:true,cellTemplate:"<div class='ngCellText' ng-class='col.colIndex()'><span class='control-label' ng-bind-html='row.entity.Schedule | trustedHTML'></span></div>"},{field:"SalaryDesired",width:"125",displayName:"Salary Desired",visible:true,cellTemplate:"<div class='ngCellText'><span class='control-label'>{{row.entity.SalaryDesired}}</span></div>"},{field:"EndorsedAging",width:"125",displayName:"Aging",visible:true,cellTemplate:"<div class='ngCellText'><span class='control-label'>{{row.entity.EndorsedAging}}</span></div>"},],init:function(q,g){setTimeout(function(){g.gridOptions[4078].$gridServices.DomUtilityService.RebuildGrid(g.gridOptions[4078].$gridScope,g.gridOptions[4078].ngGrid)},500)}},4079:{data:"Detail[4079]",multiSelect:false,virtualizationThreshold:50,columnDefs:[{field:"Name",width:"*",displayName:"Name",cellTemplate:"<div class='ngCellText' ng-class='col.colIndex()'><span class='control-label' ng-bind-html='row.entity.Name | trustedHTML'></span></div>"},{field:"AppCount",width:"*",displayName:"Count"},],init:function(q,g){setTimeout(function(){g.gridOptions[4079].$gridServices.DomUtilityService.RebuildGrid(g.gridOptions[4079].$gridScope,g.gridOptions[4079].ngGrid)},500)}},};l.removeRow=function(g,q){if(q.entity.ID==0){l.Detail[g].splice(q.rowIndex,1)}else{e.GridDelete(g,q.entity.ID).then(function(r){l.Detail[g].splice(q.rowIndex,1)})}};l.setID=function(q,r,g){q[r.substring(3)]=g.Name;q[r]=g.ID};l.getAutoCompleteItems=function(q,g,r){return e.getAutoCompleteItems(q,g,r).then(function(s){return s.items})};l.tabs=[];l.tabs.activeTab=0;l.loadedTab=[];l.loadTab=function(g){e.loadTab(g,l.rID).then(function(q){l.Detail[g]=q.data})};l.selectedFiles=[];l.onFileSelect=function(g,s,t,r){for(var q=0;q<l.selectedFiles.length;q++){if(l.selectedFiles[q].mID==s&&l.selectedFiles[q].name==t&&l.selectedFiles[q].idx==r){l.selectedFiles.splice(q,1);break}}l.selectedFiles.push({file:g[0],mID:s,name:t,idx:r})};l.SeledtedFolderID=1;l.SeledtedFolderName="Unprocessed";var i={field:"EndorsedAging",width:"*",displayName:"Aging",visible:true,cellTemplate:"<div class='ngCellText'><span class='control-label'>{{row.entity.EndorsedAging}}</span></div>"};l.filterApplicants=function(g,r){l.SeledtedFolderID=g;l.SeledtedFolderName=r;console.log(g);var q=4078;if(g<=3&&g!=0){l.gridOptions[4078].columnDefs.splice(11,1,i)}else{l.gridOptions[4078].columnDefs.splice(11,1)}if(g==0){k(q,0,1,"Name","ASC",{})}else{k(q,0,1,"Name","ASC",{ID_RecruitmentFolders:g})}};l.filterApplicants(1,"Unprocessed");function k(t,u,g,r,q,s){e.getPagedData(t,u,g,r,q,s,l.rID).then(function(v){l.Detail[t]=v.data;l.gridOptions[4078].selectedItems.length=0;if(!l.$$phase){l.$apply()}})}l.moveTo=function(g){if(!l.gridOptions[4078].selectedItems.length){h.add("Select applicants to move.","danger",5000)}else{var s="";var t=4078;for(var r=0;r<l.gridOptions[4078].selectedItems.length;r++){s=s+l.gridOptions[4078].selectedItems[r].ID+","}if(g.IsWithReason){var q=f.create("Dialogs/c4077ReasonDialog.html","c4077ReasonDialog",null,{size:"md",keyboard:true,backdrop:true,windowClass:"my-class"});q.result.then(function(u){e.MoveTo({FolderID:g.ID_RecruitmentFolders,ids:s,Reason:u.Comment}).then(function(v){if(v.stat=="1"){if(l.SeledtedFolderID==0){k(t,0,1,"Name","ASC",{})}else{k(t,0,1,"Name","ASC",{ID_RecruitmentFolders:l.SeledtedFolderID})}l.loadTab(4079)}})},function(u){})}else{e.MoveTo({FolderID:g.ID_RecruitmentFolders,ids:s,Reason:null}).then(function(u){if(u.stat=="1"){if(l.SeledtedFolderID==0){k(t,0,1,"Name","ASC",{})}else{k(t,0,1,"Name","ASC",{ID_RecruitmentFolders:l.SeledtedFolderID})}l.loadTab(4079)}})}}};l.select=function(g){if(g.IsCanMovetoFolder){if(g.$selected){g.$selected=false;l.gridOptions[4078].selectedItems.splice(l.gridOptions[4078].selectedItems.indexOf(g),1)}else{g.$selected=true;l.gridOptions[4078].selectedItems.push(g)}}};l.EndorseCandidate=function(){if(!l.gridOptions[4078].selectedItems.length){h.add("Select applicants to endorse.","warning",5000)}else{var g=f.confirm(undefined,"Endorse candidates for Interview?",{size:"sm"});g.result.then(function(q){var t={params:"",statusid:1};var s=4078;for(var r=0;r<l.gridOptions[4078].selectedItems.length;r++){t.params+=l.gridOptions[4078].selectedItems[r].ID;if(r+1<l.gridOptions[4078].selectedItems.length){t.params+=","}}e.EndorseCandidate(t).then(function(u){if(l.SeledtedFolderID==0){k(s,0,1,"Name","ASC",{})}else{k(s,0,1,"Name","ASC",{ID_RecruitmentFolders:l.SeledtedFolderID})}l.loadTab(4079);h.add(u.message,"info",5000)})},function(q){})}};l.TableView=true;l.toggleView=function(){l.TableView=!l.TableView;l.gridOptions[4078].$gridScope.firstAdjustmentLeft=false;l.gridOptions[4078].ngGrid.lateBoundColumns=false;l.gridOptions[4078].$gridScope.columns.length=0;l.gridOptions[4078].ngGrid.config.columnDefs=l.gridOptions[4078].columnDefs;l.gridOptions[4078].ngGrid.buildColumns();l.gridOptions[4078].ngGrid.eventProvider.assignEvents();l.gridOptions[4078].$gridServices.DomUtilityService.RebuildGrid(l.gridOptions[4078].$gridScope,l.gridOptions[4078].ngGrid)};l.colException="ID,Name";l.LoadColumns=function(){var g=f.create("Dialogs/LoadColumns.html","c4077LoadColumns",{columns:l.gridOptions[4078].columnDefs,colException:l.colException},{size:"md",keyboard:true,backdrop:"static"});g.result.then(function(q){l.gridOptions[4078].columnDefs=q;if(l.TableView){l.gridOptions[4078].$gridScope.firstAdjustmentLeft=false;l.gridOptions[4078].ngGrid.lateBoundColumns=false;l.gridOptions[4078].$gridScope.columns.length=0;l.gridOptions[4078].ngGrid.config.columnDefs=q;l.gridOptions[4078].ngGrid.buildColumns();l.gridOptions[4078].ngGrid.eventProvider.assignEvents();l.gridOptions[4078].$gridServices.DomUtilityService.RebuildGrid(l.gridOptions[4078].$gridScope,l.gridOptions[4078].ngGrid)}},function(q){})}};a.register.controller("c4077",["$scope","resources","dataService","utilService","$state","growlNotifications","$templateCache","Session","dialogs",b]);var c=function(h,g,f){h.columns=f.columns;h.colException=f.colException;var e=h.colException.split(",");h.check=false;h.checkAll=function(){h.check=!h.check;angular.forEach(h.columns,function(i){if(e.indexOf(i.field)==-1){i.visible=h.check}})};h.Cancel=function(){g.dismiss("Canceled")};h.Load=function(){g.close(h.columns)}};a.register.controller("c4077LoadColumns",["$scope","$modalInstance","data",c]);var d=function(j,e,i,f,h){j.Data={Comment:null};j.cancel=function(){i.dismiss("Canceled")};j.save=function(){i.close({Comment:j.Data.Comment})}};a.register.controller("c4077ReasonDialog",["$scope","dataService","$modalInstance","data","growlNotifications",d])});