"use strict";define(["app"],function(a){var b=function(m,k,c,q,n,f,p,o){if(k.error!==undefined){f.add(k.error,"danger",5000)}m.Sum=function(g,d){return q.Sum(g,d)};m.Max=function(g,d){return q.Max(g,d)};m.Min=function(g,d){return q.Min(g,d)};m.Ave=function(g,d){return q.Ave(g,d)};var e="<div ng-if='showFooter' class='ngFooterPanel' ng-style='footerStyle()'><div class='ngTotalSelectContainer' ><div class='ngFooterTotalItems' ng-class=\"{'ngNoMultiSelect':!multiSelect}\"><span class='ngLabel'>View {{(totalServerItems==0?0:pagingOptions.pageSize*(pagingOptions.currentPage-1)+1)}}-{{(totalServerItems<(pagingOptions.pageSize*pagingOptions.currentPage)?totalServerItems:pagingOptions.pageSize*pagingOptions.currentPage)}} of {{totalServerItems}}</span><span ng-show='filterText.length>0' class='ngLabel'>({{i18n.ngShowingItemsLabel}} {{totalFilteredItemsLength()}})</span></div></div><div class='ngPagerContainer' style='float:right;margin-top:6px;' ng-if='enablePaging' ng-class=\"{'ngNoMultiSelect':!multiSelect}\"><div style='float:left;margin-right:10px;' class='ngRowCountPicker'><span style='float:left;margin-top:4.5px;' class='ngLabel'>{{i18n.ngPageSizeLabel}}&nbsp;</span><select style='float:left;height:25px;width:50px' ng-model='pagingOptions.pageSize'><option ng-repeat='size in pagingOptions.pageSizes'>{{size}}</option></select></div><div style='float:left;margin-right:10px;line-height:25px;' class='ngPagerControl' style='float:left;min-width:135px;'><button type='button' class='ngPagerButton' ng-click='pageToFirst()' ng-disabled='cantPageBackward()' title='{{i18n.ngPagerFirstTitle}}'><div class='ngPagerFirstTriangle'><div class='ngPagerFirstBar'></div></div></button><button type='button' class='ngPagerButton' ng-click='pageBackward()' ng-disabled='cantPageBackward()' title='{{i18n.ngPagerPrevTitle}}'><div class='ngPagerFirstTriangle ngPagerPrevTriangle'></div></button><button type='button' class='ngPagerButton' ng-click='pageForward()' ng-disabled='cantPageForward()' title='{{i18n.ngPagerNextTitle}}'><div class='ngPagerLastTriangle ngPagerNextTriangle'></div></button><button type='button' class='ngPagerButton' ng-click='pageToLast()' ng-disabled='cantPageToLast()' title='{{i18n.ngPagerLastTitle}}'><div class='ngPagerLastTriangle'><div class='ngPagerLastBar'></div></div></button></div></div></div>";m.Session=o.data;m.gridData=k.gridData;m.pagingOptions={4241:{pageSizes:[10,20,50,100],pageSize:10,currentPage:1},1031:{pageSizes:[10,20,50,100],pageSize:10,currentPage:1},};m.sortInfo={4241:{fields:["ID"],directions:["DESC"],firstload:true},1031:{fields:["ID"],directions:["DESC"],firstload:true},};angular.forEach(m.pagingOptions,function(g,d){m.$watch("pagingOptions["+d+"].pageSize",function(i,r){if(i!==r){if(m.pagingOptions[d].currentPage==1){l(d,i,1,m.sortInfo[d].fields[0],m.sortInfo[d].directions[0],m.filter[d])}else{m.pagingOptions[d].currentPage=1}}});m.$watch("pagingOptions["+d+"].currentPage",function(i,r){if(i!==r){l(d,m.pagingOptions[d].pageSize,i,m.sortInfo[d].fields[0],m.sortInfo[d].directions[0],m.filter[d])}});m.$watch("sortInfo["+d+"]",function(i,r){if(r.firstload){m.sortInfo[d].firstload=false}if((i.fields[0]!==r.fields[0]||i.directions[0]!==r.directions[0])&&!r.firstload){l(d,m.pagingOptions[d].pageSize,m.pagingOptions[d].currentPage,i.fields[0],i.directions[0],m.filter[d])}},true)});m.gridOptions={4241:{data:"gridData[4241]",virtualizationThreshold:50,columnDefs:[{field:"ID",width:30,displayName:"",cellTemplate:"<div class='ngCellText' ng-if='row.entity.ID > 0'><span><a ui-sref='4241({ ID_4241:row.entity.$$rID})'><i class='fa fa-lg fa-fw fa-edit'></i></a></span></div>"},{field:"ID",width:"100",displayName:"ID"},{field:"Code",width:"200",displayName:"Code",cellTemplate:"<div class='ngCellText'><span class='control-label' ng-bind-html='row.entity.Code | trustedHTML'></span></div>"},{field:"Name",width:"*",displayName:"Name",cellTemplate:"<div class='ngCellText'><span class='control-label' ng-bind-html='row.entity.Name | trustedHTML'></span></div>"},{field:"IsActive",width:"50",displayName:"Active",cellTemplate:"<div class='ngCellText' ng-class='col.colIndex()'><div class='smart-form noselect for_checkbox'><label class='toggle state-disabled'><input type='checkbox' name='IsActive' class='form-checkbox' ng-model='row.entity.IsActive' disabled/><i data-swchon-text='Yes' data-swchoff-text='No'></i></label></div></div>"},],totalServerItems:k.totalServerItems[4241],groupsCollapsedByDefault:false,enableColumnResize:true,enableSorting:true,sortInfo:m.sortInfo[4241],useExternalSorting:true,enablePaging:true,showFooter:true,pagingOptions:m.pagingOptions[4241],footerTemplate:e,footerRowHeight:40,init:function(g,d){setTimeout(function(){d.gridOptions[4241].$gridServices.DomUtilityService.RebuildGrid(d.gridOptions[4241].$gridScope,d.gridOptions[4241].ngGrid)},500)}},1031:{data:"gridData[1031]",virtualizationThreshold:50,enableColumnResize:true,columnDefs:[{field:"ID",width:30,displayName:"",cellTemplate:"<div class='ngCellText'><span><a ui-sref='1031({ ID_1031:row.entity.$$rID})'><i class='fa fa-lg fa-fw fa-edit'></i></a></span></div>"},{field:"DesignationTOCS",width:"*",displayName:"Job Title",cellTemplate:"<div class='ngCellText'><span class='control-label' ng-bind-html='row.entity.DesignationTOCS | trustedHTML'></span></div>"},{field:"Company",width:"*",displayName:"Company"},{field:"CompanyGroup",width:"*",visible:false,displayName:"SBU / Group"},{field:"Division",width:"*",displayName:"Division"},{field:"Department",width:"*",displayName:"Department"},{field:"JobClass",width:"*",displayName:"Job Level"},{field:"CostCenter",width:"*",displayName:"Cost Center"},{field:"DateTimeCreated",width:"*",displayName:"Date Created",cellFilter:"date:'MM/dd/yyyy hh:mm:ss a'"},{field:"DateTimeModified",width:"*",displayName:"Date Last Modified",cellFilter:"date:'MM/dd/yyyy hh:mm:ss a'"},{field:"ModifiedBy",width:"*",displayName:"Modified By"},{field:"ID",width:20,displayName:"",cellTemplate:"<div class='ngCellText' ng-class='col.colIndex()'><span><a class='row-delete' ng-click='removeRow(1031,row)'  ng-show='Actual = 0'  ><i class='fa fa-times'></i></a></span></div>"},],totalServerItems:k.totalServerItems[1031],enableSorting:true,sortInfo:m.sortInfo[1031],useExternalSorting:true,enablePaging:true,showFooter:true,pagingOptions:m.pagingOptions[1031],footerTemplate:e,groups:["CompanyGroup"],groupsCollapsedByDefault:false,footerRowHeight:40,init:function(g,d){setTimeout(function(){d.gridOptions[1031].$gridServices.DomUtilityService.RebuildGrid(d.gridOptions[1031].$gridScope,d.gridOptions[1031].ngGrid)},500)}},};for(var h in k.columnDefinitions){if(k.columnDefinitions[h].length>0){m.gridOptions[h].columnDefs=k.columnDefinitions[h]}}for(var h in k.groups){if(k.groups[h].length>0){m.gridOptions[h].groups=k.groups[h]}}var j=[{field:"ID",width:30,displayName:"",cellTemplate:"<div class='ngCellText' ng-class='col.colIndex()'><span><a ui-sref='1031({ ID_1031:row.entity.ID})'><i class='fa fa-lg fa-fw fa-edit'></i></a></span></div>"},{field:"Name",width:"*",displayName:"Job Title",cellTemplate:"<div class='ngCellText' ng-class='col.colIndex()'><span class='control-label' ng-bind-html='row.entity.Name | trustedHTML'></span></div>"},];m.filter={4241:{},1031:{},};m.clearFilter=function(d){m.filter[d]={};m.Search(d)};m.filter_dropdown_source=k.filter_dropdown_source;m.filter_rdb_source=k.filter_rdb_source;m.filter_autocomplete_source=k.filter_autocomplete_source;m.filter_text_autocomplete_source=k.filter_text_autocomplete_source;m.setID=function(g,i,d){g[i]=d.ID};m.clearAutoComplete=function(d,g){d[g]=null};m.Search=function(d){l(d,m.pagingOptions[d].pageSize,m.pagingOptions[d].currentPage,m.sortInfo[d].fields[0],m.sortInfo[d].directions[0],m.filter[d])};function l(s,t,d,i,g,r){c.getPagedData(s,t,d,i,g,r).then(function(u){m.gridData[s]=u.data;m.gridOptions[s].$gridScope.totalServerItems=u.totalServerItems;if(!m.$$phase){m.$apply()}})}m.onExcelSelect=function(d,r,g,s,t){if(d.length>0){var i=d[0].name.substr((~-d[0].name.lastIndexOf(".")>>>0)+2);if(i!="xls"&&i!="xlsx"){f.add("File must be excel.","danger",5000);return}c.ImportJobDescriptionTemplate(d[0]).then(function(u){if(u.messageType==2){f.add(u.message,"danger",5000)}else{f.add(u.message,"info",5000);n.go(n.current,n.params,{reload:true,inherit:false,notify:true})}})}};m.CascadingDropdown=function(i,d,r,g){c.CascadingDropdown(i,d,r).then(function(u){var s=g.split(",");for(var t=0;t<s.length;t++){m.filter_dropdown_source[s[t]]=u.data[s[t]]}})};m.toggleImport=function(){$("#importTemplate").click()};m.setLastActiveTab=function(d,g){console.log(d,m.tabs.activeTab)};m.tabs=[];m.tabs.activeTab=(sessionStorage.getItem("mID")==1021?(sessionStorage.getItem("tab")==undefined?0:sessionStorage.getItem("tab")):0);sessionStorage.removeItem("mID");sessionStorage.removeItem("tab")};a.register.controller("c1021",["$scope","resources","dataService","utilService","$state","growlNotifications","$templateCache","Session",b])});