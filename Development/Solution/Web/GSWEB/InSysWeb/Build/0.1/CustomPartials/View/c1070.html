<style>.form-horizontal legend {font-weight: bold;}.form-horizontal {border-bottom: 1px solid gray;border-left: 1px solid gray;border-right: 1px solid gray;padding: 5px;height: 100%;}.form-horizontal input[type=radio] {width: 16px;float: left;}.form-horizontal .emp-type label,.form-horizontal .nat-req label {width: 100%;}.form-horizontal .emp-type span,.form-horizontal .nat-req span {margin-top: 5px;display: block;margin-left: 25px;}.form-approvers .ap-header {border: 1px solid lightgray;font-weight: bold;height: 25px;line-height: 25px;} .form-approvers .ap-col {}.fa-download {color: #0AAD76;}#form-grid table {width: 100%;}.separator {height: 25px;background-color: rgb(242, 237, 237) !important;}#form-grid th,#form-grid td {padding: 5px;}#form-grid thead tr {border-bottom: 1px solid rgb(58, 109, 58);}#form-grid tbody tr:nth-child(odd) {background: #bad8ce;}@media only screen and (max-width: 768px) {#form-grid .cf:after; {visibility: hidden;display: block;font-size: 0;content: " ";clear: both;height: 0;}#form-grid * html .cf {zoom: 1;}#form-grid *:first-child + html .cf {zoom: 1;}#form-grid table {width: 100%;border-collapse: collapse;border-spacing: 0;}#form-grid thead tr {border-right: 1px solid rgb(58, 109, 58);}#form-grid tbody tr:nth-child(odd) {background: none;}#form-grid th,#form-grid td {margin: 0;padding-left: 10px;vertical-align: top;}#form-grid th {text-align: left;}#form-grid table {display: block;position: relative;width: 100%;}#form-grid thead {display: block;float: left;}#form-grid tbody {display: block;width: auto;position: relative;overflow-x: auto;white-space: nowrap;}#form-grid thead tr {display: block;}#form-grid th {display: block;text-align: right;}#form-grid tbody tr {display: inline-block;vertical-align: top;}#form-grid td {display: block;min-height: 1.25em;text-align: left;}#form-grid th {border-bottom: 0;border-left: 0;}#form-grid td {border-left: 0;border-right: 0;border-bottom: 0;}#form-grid tbody tr {border-left: 1px solid #babcbf;}#form-grid th:last-child,#form-grid td:last-child {border-bottom: 1px solid #babcbf;}.label {font-weight: bold;}}.fs-submitted { color : #6D929B; }.fs-approved { color : #1fa67a; }.fs-hold { color : #FBC723; }.fs-disapproved { color : #E8110F; }.fs-cancelled { color : #646464; }legend.sub_title {font-size: 13px!important;}</style><script type="text/ng-template" id="pageButtons"><ol class='breadcrumb'><li ng-if='(Master.ID_EmployeeApprover1 == Session.ID_Employee || Master.ID_EmployeeApprover2 == Session.ID_Employee || Master.ID_EmployeeApprover3 == Session.ID_Employee) && Master.ID_FilingStatus == 12'><button type='button' class='btn btn-primary' ng-click="loadModal(Master.ID,3)"><i class="fa fa-mail-reply"></i>Back to Requestor</button></li><li ng-if='(Master.ID_EmployeeApprover1 == Session.ID_Employee || Master.ID_EmployeeApprover2 == Session.ID_Employee || Master.ID_EmployeeApprover3 == Session.ID_Employee) && Master.ID_FilingStatus == 12'><button type='button' class='btn btn-primary' ng-click="loadModal(Master.ID,2)"><i class="fa fa-thumbs-o-down"></i>Disapprove</button></li><li ng-if='(Master.ID_EmployeeApprover1 == Session.ID_Employee || Master.ID_EmployeeApprover2 == Session.ID_Employee || Master.ID_EmployeeApprover3 == Session.ID_Employee) && Master.ID_FilingStatus == 12'><button type='button' class='btn btn-primary' ng-click="loadModal(Master.ID,1)"><i class="fa fa-thumbs-o-up"></i>Approve</button></li><li ng-if='(Master.ID_FilingStatus == 1 || Master.ID_FilingStatus == 5 || Master.ID_FilingStatus == 12)'><button type='button' class='btn btn-primary' ng-click="toggleUpload()" btnid='0'><i class="fa fa-files-o"></i>Attach Files</button></li><li ng-if='Master.ID_Employee == Session.ID_Employee && (Master.ID_FilingStatus == 1 || Master.ID_FilingStatus == 12) && Master.ID > 0'><button type='button' class='btn btn-primary' ng-click="CancelApplication()"><i class="fa fa-ban"></i>Cancel</button></li><li ng-if='Master.ID_FilingStatus == 24 && Master.TargetSLA > 0'><button type='button' class='btn btn-primary' ng-form-save btnid='4113'><i class="fa fa-share-square"></i>Submit</button></li><li ng-if='(Master.ID_FilingStatus == 1 || Master.ID_FilingStatus == 5) && Master.ID_Employee == Session.ID_Employee && Master.RequestHeadCount > 0 && Detail[2067].length > 0 && isValidApprovers() == true'><button type='button' class='btn btn-primary' ng-form-save btnid='2028'><i class="fa fa-share-square"></i>Submit</button></li><li ng-if='Master.ID_FilingStatus == 1'><button type='button' class='btn btn-primary' ng-form-save btnid='1028'><i class='fa fa-save'></i>Save</button></li><li><button type='button' class='btn btn-primary' ng-form-new mid='1070' mtype='3'><i class='fa fa-file-o'></i>New</button></li><li ng-if="Master.ID > 0"><button type='button' class='btn btn-primary' mid="1070" ng-form-print-report><i class='fa fa-print'></i>Print</button></li></ol><input type="file" id="uploadFile" multiple="multiple" ng-model="uploadFile" name="uploadFile" file-input ng-file-select="AttachFiles($files,0)" style="display:none" /></script><div class='ribbon'><span class='ribbon-button-alignment'><span class='btn btn-ribbon' ng-click="goPrevious()"><i class='fa fa-arrow-left'></i></span></span><ol class='breadcrumb'><li>Manpower Requisition</li></ol></div><div class='content'><form novalidate name='mainform'><div class='button-holder' ng-include="'pageButtons'"></div><div class='clear'></div><div class='tabs-left' ><div title='Requisition Details' ><div class='form_template form-horizontal'><fieldset><div class='col-sm-6 f-group'><div class='form-group'><label class='control-label2 col-md-3'>MRF Number</label><div class='col-md-9'><span class='control-label bold' ng-bind-html='Master.MRFNumber | trustedHTML'></span></div></div><div class='form-group'><label class='control-label2  col-md-3'>Request Status</label><div class='col-md-9'><span class='control-label bold' ng-class="{ 'fs-approved' : Master.ID_FilingStatus == 2, 'fs-disapproved' : Master.ID_FilingStatus == 3,'fs-submitted' : Master.ID_FilingStatus == 12,'fs-hold' : Master.ID_FilingStatus == 14,'fs-cancelled' : Master.ID_FilingStatus == 4 }" ng-bind-html='Master.FilingStatus | trustedHTML'></span></div></div><div class='form-group'><label class='control-label2  col-md-3'>Requestor</label><div class='col-md-9'><span class='control-label bold' ng-bind-html='Master.Requestor | trustedHTML'></span></div></div><div class='form-group' ng-class="{ 'has-error' : mainform.TargetSLA.$invalid && mainform.$submitted }"><label class='control-label2 col-md-3'>Target SLA <span ng-if="Master.ID_FilingStatus == 24" class='required'>* </span></label><div class='col-md-9'><span ng-if="Master.ID_FilingStatus != 24" class='control-label bold'>{{Master.TargetSLA}}</span><input ng-if="Master.ID_FilingStatus == 24" type="text" name="TargetSLA" style="max-width: 100px;" required ng-numeric-only class="form-control" ng-model="Master.TargetSLA" /><div class="note note-error" ng-show='mainform.TargetSLA.$error.required && mainform.$submitted'>Target SLA is required.</div></div></div></div><div class='col-sm-6 f-group'><div class='form-group'><table class="table"><thead><tr><td>Position</td><td>Plantilla</td><td>Headcount</td><td>Open Vacancy</td><td>Active Vacancy</td></tr></thead><tbody><tr><td><span class='control-label bold' ng-bind-html='Master.Designation | trustedHTML'></span></td><td><span class='control-label'>{{Master.Budgeted}}</span></td><td><span class='control-label'>{{Master.Actual}}</span></td><td><span class='control-label'>{{Master.OpenVacancy}}</span></td><td><span class='control-label'>{{Master.ActiveVacancy}}</span></td></tr></tbody></table></div></div></fieldset></div><div class='form_template form-horizontal'><fieldset><legend>A. Requisition Details</legend><div class='col-sm-4 f-group'><div class='form-group' ng-class="{ 'has-error' : mainform.ID_CostCenter.$invalid && mainform.$submitted }"><label class='control-label2 col-md-3'>Cost Center <span ng-if="canEdit() && isRequestor()" class='required'>* </span></label><div class='col-md-9'><span ng-if="!canEdit() || !isRequestor()" class='control-label bold' ng-bind-html='Master.CostCenter | trustedHTML'></span><select ng-if="canEdit() && isRequestor()" name="ID_CostCenter" ng-change="CascadingDropdown(1070,1176,Master.ID_CostCenter,'1173');" ng-options="item.ID as item.Name for item in dropdown_source[1176]" required class="form-control" ng-model="Master.ID_CostCenter"></select><div class="note note-error" ng-show='mainform.ID_CostCenter.$error.required && mainform.$submitted'>Cost Center is required.</div></div></div><div class='form-group'><label class='control-label2  col-md-3'>SBU / Group</label><div class='col-md-9'><span class='control-label bold' ng-bind-html='Master.CompanyGroup | trustedHTML'></span></div></div><div class='form-group' ng-if="Master.Department != null"><label class='control-label2 col-md-3'>Department</label><div class='col-md-9'><span class='control-label bold' ng-bind-html='Master.Department | trustedHTML'></span></div></div></div><div class='col-sm-4 f-group'><div class='form-group' ng-class="{ 'has-error' : mainform.ID_Designation.$invalid && mainform.$submitted }"><label class='control-label2 col-md-3'>Position Title <span ng-if="canEdit() && isRequestor()" class='required'>* </span></label><div class='col-md-9'><div class="form-inline"><span ng-if="!canEdit() || !isRequestor()" class='control-label bold' ng-bind-html='Master.Designation | trustedHTML'></span><select style="width:80%" ng-if="canEdit() && isRequestor()" ng-change="getPositionDetails()" name="ID_Designation" ng-options="item.ID as item.Name for item in dropdown_source[1173]" required class="form-control" ng-model="Master.ID_Designation"></select><a ng-if="Master.ID > 0" ui-sref="1031({ ID_1031:Master.$$ID_Designation })" target="_blank">View</a></div><div class="note note-error" ng-show='mainform.ID_Designation.$error.required && mainform.$submitted'>Position Title is required.</div></div></div><div class='form-group'><label class='control-label2 col-md-3'>Reporting To</label><div class='col-md-9'><span class='control-label bold' ng-bind-html='Master.ReportsTo | trustedHTML'></span></div></div></div><div class='col-sm-4 f-group'><div class='form-group'><label class='control-label2 col-md-3'>Level</label><div class='col-md-9'><span class='control-label bold' ng-bind-html='Master.JobClass | trustedHTML'></span></div></div><div class='form-group' ng-class="{ 'has-error' : mainform.RequestHeadCount.$invalid && mainform.$submitted }"><label class='control-label2 col-md-3'>Requested Headcount <span ng-if="canEdit() && isRequestor()" class='required'>* </span></label><div class='col-md-9'><span ng-if="!canEdit() || !isRequestor()" class='control-label bold'>{{Master.RequestHeadCount}}</span><input ng-if="canEdit() && isRequestor() && Master.ID_MRFNatureOfRequest != 2" type="text" name="RequestHeadCount" required ng-numeric-only class="form-control" ng-model="Master.RequestHeadCount" /><div class="note note-error" ng-show='mainform.RequestHeadCount.$error.required && mainform.$submitted'>Requested Headcount is required.</div></div></div></div></fieldset></div><div class='form_template form-horizontal'><fieldset><div class='col-sm-4 f-group'><div class='form-group'><label class='control-label  col-md-4'>Employment Type</label><div class='col-md-8 emp-type'><label ng-repeat='rdb in rdb_source[10484]'><input ng-disabled="!canEdit() || !isRequestor()" type="radio" name="ID_EmployeeStatus" class="form-control" ng-model="Master.ID_EmployeeStatus" ng-value='rdb.ID' /><span style="padding:5px;">{{rdb.Name}}</span></label></div></div></div><div class='col-md-8 f-group'><div class='form-group'><label class='control-label col-md-3'>Nature of Request</label><div class='col-md-9 nat-req'><label ng-repeat='rdb in rdb_source[1181]'><input ng-disabled="!canEdit() || !isRequestor()" type="radio" ng-change="NatureOfRequest()" name="ID_MRFNatureOfRequest" class="form-control" ng-model="Master.ID_MRFNatureOfRequest" ng-value='rdb.ID' /><span style="padding: 5px;">{{rdb.Name}}</span></label></div></div><div class='form-group' ng-if="Master.ID_MRFNatureOfRequest==2" ng-class="{ 'has-error' : mainform.ID_MRFReplacementReason.$invalid && mainform.$submitted }"><label class='control-label col-md-3'>Replacement due to <span class='required'>* </span></label><div class='col-md-9'><select ng-disabled="!canEdit() || !isRequestor()" ng-required="Master.ID_MRFNatureOfRequest==2" name="ID_MRFReplacementReason" ng-options="item.ID as item.Name for item in dropdown_source[1182]" class="form-control" ng-model="Master.ID_MRFReplacementReason"></select><div class='note note-error' ng-show='mainform.ID_MRFReplacementReason.$error.required && mainform.$submitted'>Replacement reason is required.</div></div></div><div class='form-group' ng-if="Master.ID_MRFNatureOfRequest==2" ng-class="{ 'has-error' : mainform.ID_EmployeeToReplace.$invalid && mainform.$submitted }"><label class='control-label col-md-3'>Person to be Replaced <span class='required'>* </span></label><div class='col-md-9'><select ng-disabled="!canEdit() || !isRequestor()" ng-required="Master.ID_MRFNatureOfRequest==2" name="ID_EmployeeToReplace" ng-options="item.ID as item.Name for item in dropdown_source[4548]" class="form-control" ng-model="Master.ID_EmployeeToReplace"></select><div class='note note-error' ng-show='mainform.ID_EmployeeToReplace.$error.required && mainform.$submitted'>Person to be replaced is required.</div></div></div><div class='form-group' ng-class="{ 'has-error' : mainform.SBAR.$invalid && mainform.$submitted , 'hidden' : !((Master.ID_MRFNatureOfRequest==4 || Master.ID_MRFNatureOfRequest==3) && Master.IsWithSBAR != 1 && Master.ID_FilingStatus == 1) }"><label class='control-label  col-md-3 bold'>SBAR <span ng-if="canEdit() && isRequestor()" class='required'>* </span></label><div class='col-md-9'><div class='smart-form input-group' style='width:100%'><label for='file' class='input input-file'><div class='button'><input type='file' name='SBAR' file-input ng-file-select='onFileSelect($files,1070,"SBAR", Master.ID) ' onclick='this.value = null' ng-required="(Master.ID_MRFNatureOfRequest==4 || Master.ID_MRFNatureOfRequest==3) && Master.IsWithSBAR != 1 && Master.ID_FilingStatus == 1" ng-model='Master.SBAR'>Browse</div><input type='text' ng-model='Master.SBAR' placeholder='Attach SBAR...' readonly=''></label><span class='input-group-addon' ng-if='Master.ID > 0 && Master.SBAR !== null' download-file='{{Master.SBAR_GUID}}' filename='{{Master.SBAR}}'><i class='fa fa-download'></i></span></div><div class='note note-error' ng-show='mainform.SBAR.$error.required && mainform.$submitted'>SBAR is required.</div></div></div><div class='form-group' ng-if="Master.ID_MRFNatureOfRequest==3" ng-class="{ 'has-error' : mainform.ID_ManpowerRequest.$invalid && mainform.$submitted }"><label class='control-label col-md-3'>MRF <span ng-if="canEdit() && isRequestor()" class='required'>* </span></label><div class='col-md-9'><select ng-disabled="!canEdit() || !isRequestor()" ng-required="Master.ID_MRFNatureOfRequest==3" name="ID_ManpowerRequest" ng-options="item.ID as item.Name for item in dropdown_source[4545]" class="form-control" ng-model="Master.ID_ManpowerRequest"></select><div class='note note-error' ng-show='mainform.ID_ManpowerRequest.$error.required && mainform.$submitted'>MRF is required.</div></div></div></div></fieldset></div></div><div title='Justification' name='master_1037' ng-form><div class='form_template form-horizontal'><fieldset><legend>B. Justification</legend><div class='col-sm-12 f-group'><div class='form-group' ng-class="{ 'has-error' : master_1037.Justification.$invalid && mainform.$submitted }"><label class='control-label  col-md-1'>Justification <span ng-if="canEdit() && isRequestor()" class='required'>* </span></label><div class='col-md-11'><textarea ng-disabled="!canEdit() || !isRequestor()" name="Justification" placeholder="Justification" required style='height:100px;' class="form-control" ng-model="Master.Justification"></textarea><div class="note note-error" ng-show='master_1037.Justification.$error.required && mainform.$submitted'>Justification is required.</div></div></div><div class='form-group'><label class='control-label  col-md-1'>Qualifications</label><div class='col-md-11'><textarea redactor ng-disabled="!canEdit() || !isRequestor()" name="Qualifications" style='height:100px;' class="form-control" ng-model="Master.Qualifications"></textarea></div></div><div class='form-group'><label class='control-label  col-md-1'>Key Results Expected of the Individual</label><div class='col-md-11'><textarea redactor ng-disabled="!canEdit() || !isRequestor()" name="KeyResults" style='height:100px;' class="form-control" ng-model="Master.KeyResults"></textarea></div></div></div></fieldset></div><div class='form_template form-horizontal'><fieldset><legend class="sub_title">Attachments</legend><div class='col-sm-12 f-group'><table class="table"><thead><tr><th style="min-width: 300px;">File</th><th style="min-width: 400px;">Attached by</th><th style="width: 200px;">Date Attached</th><th ng-if="(canEdit() || Master.ID_FilingStatus == 12) && isRequestor()">Remove ?</th></tr></thead><tbody><tr ng-repeat="data in Detail[4085]"><td><div class='smart-form input-group' style='width:100%' ng-form name='x' ng-class="{ 'has-error' : x.AttachedFileName.$invalid && mainform.$submitted }"><label for='file' class='input input-file'><div ng-if="canEdit() && isRequestor()" class='button'><input type='file' name='AttachedFileName' required file-input ng-file-select='onFileSelect($files,4085,"AttachedFileName",$index)' ng-model='data.AttachedFileName' />Browse</div><input type='text' ng-model='data.AttachedFileName' placeholder='Select files...' readonly></label><span class='input-group-addon' ng-if='data.ID> 0 && data.AttachedFileName !== null' download-file='{{data.AttachedFileName_GUID}}' filename='{{data.AttachedFileName}}'><i class='fa fa-download'></i></span></div></td><td><div ng-form name='x' ng-class="{ 'has-error' : x.ID_Employee.$invalid && mainform.$submitted }"><select name='ID_Employee' ng-options='item.ID as item.Name for item in dropdown_source[4349]' required disabled class='form-control' ng-model='data.ID_Employee'></select></td><td><div ng-form name='x' ng-class="{ 'has-error' : x.AttachedDate.$invalid && mainform.$submitted }"><div class='input-group'><input type='text' name='AttachedDate' date-format='MM/dd/yyyy' placeholder='AttachedDate' required disabled bs-datepicker data-container='body' date-to-iso class='form-control' ng-model='data.AttachedDate' /><span class='input-group-addon'><i class='fa fa-calendar'></i></span></div></div></td><td ng-if="(canEdit() || Master.ID_FilingStatus == 12) && isRequestor()"><div class='ngCellText'><span><a class='row-delete' ng-click='removeMRFAttachment(4085,data, $index)'><i class='fa fa-times'></i></a></span></div></td></tr></tbody></table></div></fieldset></div><div class='form_template form-horizontal'><fieldset><legend class="sub_title">Additional Fields</legend><div class='col-sm-12 f-group'><table class="table"><thead><tr><th>Field</th><th>Value</th><th ng-if="Master.ID_FilingStatus == 1" style='width:40px;'><a style="font-size:16px;" ng-add-new-row mid='4122' mtype='14'><i class='fa fa-plus'></i></a></th></tr></thead><tbody><tr ng-repeat="data in Detail[4122]"><td><input type='text' name='Name' placeholder='Field'  required class='form-control' ng-model='data.Name'/></td><td><input type='text' name='Value' placeholder='Value'  required class='form-control' ng-model='data.Value'/></td><td ng-if="Master.ID_FilingStatus == 1"><span><a ng-click="removeLiRow(4122,data.$index,data.ID)"><i style="color:red;" class="fa fa-lg fa-fw fa-times"></i></a></span></td></tr></tbody></table></div></fieldset></div></div><div ng-if="(Master.ID_FilingStatus == 1) && isRequestor()" title='Approvers' name='detail-form-1' select='loadTab(2067)' ng-form><div class='form_template form-horizontal'><fieldset><legend>C. Approvers <a ng-if="Detail[2067].length < 5" class="pull-right" style="font-size: 12px; margin-left: 10px;" ng-click="AddNewApprover()"><i class="fa fa-plus"></i><span>Add Approver</span></a><a ng-if="Detail[2067].length == 0" class="pull-right" style="font-size:12px;" ng-form-generate btnid='3101' target-mid="2067"><i class="fa fa-download"></i><span>Load from Matrix</span></a><a ng-if="Detail[2067].length > 0" class="pull-right" style="font-size:12px;" ng-form-generate btnid='3101' target-mid="2067" confirm="Current approvers will be deleted. Continue?"><i class="fa fa-download"></i><span>Load from Matrix</span></a></legend><div style='width:99%;margin:0px auto;'><div style='width:100%;height:200px;' class='grid' ng-grid='gridOptions[2067]'></div></div></fieldset></div></div><div ng-if="(Master.ID_FilingStatus != 1) || !isRequestor()" title='MRF Approval History'><div class='form_template form-horizontal'><fieldset><legend>C. Approvers</legend><div id="form-grid"><table><thead><tr><th>Level</th><th>Approver</th><th>Alternate Approver 1</th><th>Alternate Approver 2</th><th>Status</th><th>Notes/Remarks</th><th>Action Date</th></tr></thead><tbody><tr ng-repeat="data in Detail[4097]"><td><span>{{data.ApprovalLevel}}</span></td><td><span>{{data.EmployeeApprover1}}</span></td><td><span>{{data.EmployeeApprover2}}</span></td><td><span>{{data.EmployeeApprover3}}</span></td><td><span>{{data.FilingStatus}}</span></td><td><a ng-if="(data.ID_EmployeeApprover1 == Session.ID_Employee || data.ID_EmployeeApprover2 == Session.ID_Employee || data.ID_EmployeeApprover3 == Session.ID_Employee) && data.ID_FilingStatus != null" ng-click="viewComment(data,$index)"><i class="fa fa-lg fa-fw fa-edit"></i></a><span>{{data.Comment}}</span></td><td><span>{{data.DateValidated | date:'MM/dd/yyyy'}}</span></td></tr></tbody></table></div></fieldset></div></div></div><div class='button-holder button-bottom' ng-include="'pageButtons'"></div> </form></div>