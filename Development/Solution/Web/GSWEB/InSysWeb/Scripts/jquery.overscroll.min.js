(function(e,t,n,r,i,s,o,u,a){"use strict";function d(e,t){t.trigger("overscroll:"+e)}function v(){return(new Date).getTime()}function m(e,t,n){t.x=e.pageX;t.y=e.pageY;t.time=v();t.index=n;return t}function g(e,t,n,r){var i,s;if(e&&e.added){if(e.horizontal){i=n*(1+t.container.width/t.container.scrollWidth);s=r+t.thumbs.horizontal.top;e.horizontal.css("margin",s+"px 0 0 "+i+"px")}if(e.vertical){i=n+t.thumbs.vertical.left;s=r*(1+t.container.height/t.container.scrollHeight);e.vertical.css("margin",s+"px 0 0 "+i+"px")}}}function y(e,t,n){if(e&&e.added&&!t.persistThumbs){if(n){if(e.vertical){e.vertical.stop(true,true).fadeTo("fast",h.thumbOpacity)}if(e.horizontal){e.horizontal.stop(true,true).fadeTo("fast",h.thumbOpacity)}}else{if(e.vertical){e.vertical.fadeTo("fast",0)}if(e.horizontal){e.horizontal.fadeTo("fast",0)}}}}function b(e){var t,n="events";var r=u._data?u._data(e[0],n):e.data(n);if(r&&r.click){t=r.click.slice();e.off("click").one("click",function(){u.each(t,function(t,n){e.click(n)});return false})}}function w(e){var t=e.data,n=t.thumbs,r=t.options,i=e.type==="mouseenter";y(n,r,i)}function E(e){var t=e.data;if(!t.flags.dragged){g(t.thumbs,t.sizing,this.scrollLeft,this.scrollTop)}}function S(e){e.preventDefault();var t=e.data,n=t.options,r=t.sizing,o=t.thumbs,u=t.wheel,a=t.flags,l=e.originalEvent,c=0,p=0,d=0;a.drifting=false;if(l.detail){c=-l.detail;if(l.detailX){p=-l.detailX}if(l.detailY){d=-l.detailY}}else if(l.wheelDelta){c=l.wheelDelta/h.wheelTicks;if(l.wheelDeltaX){p=l.wheelDeltaX/h.wheelTicks}if(l.wheelDeltaY){d=l.wheelDeltaY/h.wheelTicks}}c*=n.wheelDelta;p*=n.wheelDelta;d*=n.wheelDelta;if(!u){t.target.data(f).dragging=a.dragging=true;t.wheel=u={timeout:null};y(o,n,true)}if(n.wheelDirection==="vertical"){this.scrollTop-=c}else if(n.wheelDirection==="horizontal"){this.scrollLeft-=c}else{this.scrollLeft-=p;this.scrollTop-=d||c}if(u.timeout){s(u.timeout)}g(o,r,this.scrollLeft,this.scrollTop);u.timeout=i(function(){t.target.data(f).dragging=a.dragging=false;y(o,n,t.wheel=null)},h.thumbTimeout)}function x(e){e.preventDefault();var t=e.data,n=e.originalEvent.touches,r=t.options,i=t.sizing,s=t.thumbs,o=t.position,u=t.flags,a=t.target.get(0);if(n&&n.length){e=n[0]}if(!u.dragged){y(s,r,true)}u.dragged=true;if(r.direction!=="vertical"){a.scrollLeft-=e.pageX-o.x}if(t.options.direction!=="horizontal"){a.scrollTop-=e.pageY-o.y}m(e,t.position);if(--t.capture.index<=0){t.target.data(f).dragging=u.dragging=true;m(e,t.capture,h.captureThreshold)}g(s,i,a.scrollLeft,a.scrollTop)}function T(e,t,n){var r=t.data,i,s,o,u,a=r.capture,f=r.options,c=r.sizing,p=r.thumbs,m=v()-a.time,y=e.scrollLeft,b=e.scrollTop,w=h.driftDecay;if(m>h.driftTimeout){n(r);return}i=f.scrollDelta*(t.pageX-a.x);s=f.scrollDelta*(t.pageY-a.y);if(f.direction!=="vertical"){y-=i}if(f.direction!=="horizontal"){b-=s}o=i/h.driftSequences;u=s/h.driftSequences;d("driftstart",r.target);r.drifting=true;l.animate(function E(){if(r.drifting){var t=1,i=-1;r.drifting=false;if(u>t&&e.scrollTop>b||u<i&&e.scrollTop<b){r.drifting=true;e.scrollTop-=u;u/=w}if(o>t&&e.scrollLeft>y||o<i&&e.scrollLeft<y){r.drifting=true;e.scrollLeft-=o;o/=w}g(p,c,e.scrollLeft,e.scrollTop);l.animate(E)}else{d("driftend",r.target);n(r)}})}function N(e){var t=e.data,n=e.originalEvent.touches,r=t.target,i=t.start=u(e.target),s=t.flags;s.drifting=false;if(i.size()&&!i.is(t.options.cancelOn)){if(!n){e.preventDefault()}if(!l.overflowScrolling){r.css("cursor",l.cursor.grabbing);r.data(f).dragging=s.dragging=s.dragged=false;if(t.options.dragHold){u(document).on(c.drag,t,x)}else{r.on(c.drag,t,x)}}t.position=m(e,{});t.capture=m(e,{},h.captureThreshold);d("dragstart",r)}}function C(e){var t=e.data,n=t.target,r=t.options,i=t.flags,s=t.thumbs,o=function(){if(s&&!r.hoverThumbs){y(s,r,false)}};if(r.dragHold){u(document).unbind(c.drag,x)}else{n.unbind(c.drag,x)}if(t.position){d("dragend",n);if(i.dragging&&!l.overflowScrolling){T(n.get(0),e,o)}else{o()}}if(i.dragging&&!l.overflowScrolling&&t.start&&t.start.is(e.target)){b(t.start)}n.data(f).dragging=t.start=t.capture=t.position=i.dragged=i.dragging=false;n.css("cursor",l.cursor.grab)}function k(e){e=u.extend({},p,e);if(e.direction!=="multi"&&e.direction!==e.wheelDirection){e.wheelDirection=e.direction}e.scrollDelta=r.abs(parseFloat(e.scrollDelta));e.wheelDelta=r.abs(parseFloat(e.wheelDelta));e.scrollLeft=e.scrollLeft===a?null:r.abs(parseFloat(e.scrollLeft));e.scrollTop=e.scrollTop===a?null:r.abs(parseFloat(e.scrollTop));return e}function L(e){var t=u(e),n=t.width(),r=t.height(),i=n>=e.scrollWidth?n:e.scrollWidth,s=r>=e.scrollHeight?r:e.scrollHeight,o=i>n||s>r;return{valid:o,container:{width:n,height:r,scrollWidth:i,scrollHeight:s},thumbs:{horizontal:{width:n*n/i,height:h.thumbThickness,corner:h.thumbThickness/2,left:0,top:r-h.thumbThickness},vertical:{width:h.thumbThickness,height:r*r/s,corner:h.thumbThickness/2,left:n-h.thumbThickness,top:0}}}}function A(e,t){var n=u(e),r,i=n.data(f)||{},s=n.attr("style"),o=t?function(){i=n.data(f);r=i.thumbs;if(s){n.attr("style",s)}else{n.removeAttr("style")}if(r){if(r.horizontal){r.horizontal.remove()}if(r.vertical){r.vertical.remove()}}n.removeData(f).off(c.wheel,S).off(c.start,N).off(c.end,C).off(c.ignored,_)}:u.noop;return u.isFunction(i.remover)?i.remover:o}function O(e,t){return{position:"absolute",opacity:t.persistThumbs?h.thumbOpacity:0,"background-color":"black",width:e.width+"px",height:e.height+"px","border-radius":e.corner+"px",margin:e.top+"px 0 0 "+e.left+"px","z-index":t.zIndex}}function M(e,t,n){var r="<div/>",i={},s=false;if(t.container.scrollWidth>0&&n.direction!=="vertical"){s=O(t.thumbs.horizontal,n);i.horizontal=u(r).css(s).prependTo(e)}if(t.container.scrollHeight>0&&n.direction!=="horizontal"){s=O(t.thumbs.vertical,n);i.vertical=u(r).css(s).prependTo(e)}i.added=!!s;return i}function _(e){e.preventDefault()}function D(e,t){t=k(t);var n=L(e),r,i={options:t,sizing:n,flags:{dragging:false},remover:A(e,true)};if(n.valid||t.ignoreSizing){i.target=e=u(e).css({position:"relative",cursor:l.cursor.grab}).on(c.start,i,N).on(c.end,i,C).on(c.ignored,i,_);if(t.dragHold){u(document).on(c.end,i,C)}else{i.target.on(c.end,i,C)}if(t.scrollLeft!==null){e.scrollLeft(t.scrollLeft)}if(t.scrollTop!==null){e.scrollTop(t.scrollTop)}if(l.overflowScrolling){e.css(l.overflowScrolling,"touch")}else{e.on(c.scroll,i,E)}if(t.captureWheel){e.on(c.wheel,i,S)}if(t.showThumbs){if(l.overflowScrolling){e.css("overflow","scroll")}else{e.css("overflow","hidden");i.thumbs=r=M(e,n,t);if(r.added){g(r,n,e.scrollLeft(),e.scrollTop());if(t.hoverThumbs){e.on(c.hover,i,w)}}}}else{}e.data(f,i)}}function P(e){A(e)()}function H(e){return this.removeOverscroll().each(function(){D(this,e)})}function B(){return this.each(function(){P(this)})}var f="overscroll";if(t.body===null){t.documentElement.appendChild(t.createElement("body"))}if(!e.getComputedStyle){e.getComputedStyle=function(e,t){this.el=e;this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;if(t=="float")t="styleFloat";if(n.test(t)){t=t.replace(n,function(){return arguments[2].toUpperCase()})}return e.currentStyle[t]?e.currentStyle[t]:null};return this}}var l={animate:function(){var t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){i(e,1e3/60)};return function(n){t.call(e,n)}}(),overflowScrolling:function(){var n="";var r=t.createElement("div");var i=["webkit","moz","o","ms"];t.body.appendChild(r);u.each(i,function(e,t){r.style[t+"OverflowScrolling"]="touch"});r.style.overflowScrolling="touch";var s=e.getComputedStyle(r);if(!!s.overflowScrolling){n="overflow-scrolling"}else{u.each(i,function(e,t){if(!!s[t+"OverflowScrolling"]){n="-"+t+"-overflow-scrolling"}return!n})}r.parentNode.removeChild(r);return n}(),cursor:function(){var n=t.createElement("div");var r=["webkit","moz"];var i="https://mail.google.com/mail/images/2/";var s={grab:"url("+i+"openhand.cur), move",grabbing:"url("+i+"closedhand.cur), move"};t.body.appendChild(n);u.each(r,function(t,r){var i,o="-"+r+"-grab";n.style.cursor=o;var u=e.getComputedStyle(n);i=u.cursor===o;if(i){s={grab:"-"+r+"-grab",grabbing:"-"+r+"-grabbing"}}return!i});n.parentNode.removeChild(n);return s}()};var c={drag:"mousemove touchmove",end:"mouseup mouseleave click touchend touchcancel",hover:"mouseenter mouseleave",ignored:"select dragstart drag",scroll:"scroll",start:"mousedown touchstart",wheel:"mousewheel DOMMouseScroll"};var h={captureThreshold:3,driftDecay:1.1,driftSequences:100,driftTimeout:100,scrollDelta:80,thumbOpacity:.7,thumbThickness:6,thumbTimeout:400,wheelDelta:80,wheelTicks:120};var p={cancelOn:"select,input,textarea",direction:"multi",dragHold:false,hoverThumbs:false,scrollDelta:h.scrollDelta,showThumbs:false,persistThumbs:false,captureWheel:true,wheelDelta:h.wheelDelta,wheelDirection:"multi",zIndex:999,ignoreSizing:false};H.settings=h;u.extend(o,{overscroll:H,removeOverscroll:B})})(window,document,navigator,Math,setTimeout,clearTimeout,jQuery.fn,jQuery)