"use strict";define(["app"],function(a){var b=function(n,l,e,t,o,k,q,p,m,f,h,j){if(l.error!==undefined){k.add(l.error,"danger",5000)}n.Sum=function(g,d){return t.Sum(g,d)};n.Max=function(g,d){return t.Max(g,d)};n.Min=function(g,d){return t.Min(g,d)};n.Ave=function(g,d){return t.Ave(g,d)};n.mID=1;var i="<div ng-show='showFooter' class='ngFooterPanel' ng-style='footerStyle()'><div class='ngTotalSelectContainer' ><div class='ngFooterTotalItems' ng-class=\"{'ngNoMultiSelect':!multiSelect}\"><span class='ngLabel'>View {{(totalServerItems==0?0:pagingOptions.pageSize*(pagingOptions.currentPage-1)+1)}}-{{(totalServerItems<(pagingOptions.pageSize*pagingOptions.currentPage)?totalServerItems:pagingOptions.pageSize*pagingOptions.currentPage)}} of {{totalServerItems}}</span><span ng-show='filterText.length>0' class='ngLabel'>({{i18n.ngShowingItemsLabel}} {{totalFilteredItemsLength()}})</span></div></div><div class='ngPagerContainer' style='float:right;margin-top:6px;' ng-show='enablePaging' ng-class=\"{'ngNoMultiSelect':!multiSelect}\"><div style='float:left;margin-right:10px;' class='ngRowCountPicker'><span style='float:left;margin-top:4.5px;' class='ngLabel'>{{i18n.ngPageSizeLabel}}&nbsp;</span><select style='float:left;height:25px;width:50px' ng-model='pagingOptions.pageSize'><option ng-repeat='size in pagingOptions.pageSizes'>{{size}}</option></select></div><div style='float:left;margin-right:10px;line-height:25px;' class='ngPagerControl' style='float:left;min-width:135px;'><button type='button' class='ngPagerButton' ng-click='pageToFirst()' ng-disabled='cantPageBackward()' title='{{i18n.ngPagerFirstTitle}}'><div class='ngPagerFirstTriangle'><div class='ngPagerFirstBar'></div></div></button><button type='button' class='ngPagerButton' ng-click='pageBackward()' ng-disabled='cantPageBackward()' title='{{i18n.ngPagerPrevTitle}}'><div class='ngPagerFirstTriangle ngPagerPrevTriangle'></div></button><button type='button' class='ngPagerButton' ng-click='pageForward()' ng-disabled='cantPageForward()' title='{{i18n.ngPagerNextTitle}}'><div class='ngPagerLastTriangle ngPagerNextTriangle'></div></button><button type='button' class='ngPagerButton' ng-click='pageToLast()' ng-disabled='cantPageToLast()' title='{{i18n.ngPagerLastTitle}}'><div class='ngPagerLastTriangle'><div class='ngPagerLastBar'></div></div></button></div></div></div>";n.Session=p.data;n.$watch(function(){return m.employee},function(){n.employee=m.employee});n.gridData=l.gridData;n.tmpData=[];angular.forEach(n.gridData[4029],function(d){d.DateToShow=new Date(d.DateToShow);n.tmpData.push(d)});n.gridData[4029]=n.tmpData;n.web_menu_links=[];n.setActiveTab=function(d){n.active_tab=d};n.setActiveTab("Home");n.menuApprovals=j.menuApprovals;n.menuFiling=j.menuFiling;n.IsReadySave=0;$("#EmployeeImage img").mouseover(function(){$(".uploadPhoto").attr("style","display:;");if(n.IsReadySave==1){$(".savePhoto").attr("style","display:;");$(".cancelPhoto").attr("style","display:;")}});$("#EmployeeImage img").mouseout(function(){$(".uploadPhoto").attr("style","display:none;");if(n.IsReadySave==1){$(".savePhoto").attr("style","display:none;");$(".cancelPhoto").attr("style","display:none;")}});n.selectedFiles={};n.onFileSelect=function(d,g){n.selectedFiles=d;var r=new FileReader();if(g.originalEvent.target.files[0].type=="image/jpeg"||g.originalEvent.target.files[0].type=="image/png"){r.onload=function(s){$("#Img1").attr("src",s.target.result);$("#onlineImage").attr("src",s.target.result);n.IsReadySave=1};r.readAsDataURL(g.originalEvent.target.files[0])}else{k.add("Invalid file format.","danger",5000)}};n.toggleUploadFile=function(){$("#ImageFile").click()};n.cancelUploadFile=function(){$("#Img1").attr("src","Upload/"+n.employee.ImageFile_GUID);$("#onlineImage").attr("src","Upload/"+n.employee.ImageFile_GUID);n.IsReadySave=0;$(".savePhoto").attr("style","display:none;");$(".cancelPhoto").attr("style","display:none;")};n.saveUploadFile=function(){e.saveUploadPhoto(n.selectedFiles,n.employee.ID_Employee).then(function(d){if(d.error!=""&&d.error!=undefined){k.add(d.error,"danger",5000)}else{k.add("Updated successfully.","info",5000);n.IsReadySave=0;$(".savePhoto").attr("style","display:none;");$(".cancelPhoto").attr("style","display:none;")}})};n.openAttachments=function(d){f.create("Dialogs/AnnouncementAttachments.html","cAnnouncementAttachments",{data:{rID:d}},{size:"md",keyboard:true,backdrop:true,windowClass:"my-class"})}};a.register.controller("c1",["$scope","resources","dataService","utilService","$state","growlNotifications","$templateCache","Session","$rootScope","dialogs","$filter","filesummary",b]);var c=function(j,e,h,i,f){j.close=function(){i.dismiss()};j.attachments=[];e.getAttachments(f.data.rID).then(function(g){j.attachments=g.data;for(var m=0;m<j.attachments.length;m++){var l=j.attachments[m].Name_GUID;var k=l.split(".");var d=k[k.length-1];console.log(d);if(d.toLowerCase()=="jpg"||d.toLowerCase()=="png"||d.toLowerCase()=="jpeg"){j.attachments[m].img="Upload/"+l}else{j.attachments[m].img="Resources/System/"+j.fImg(d)+".png"}}});j.fImg=function(d){switch(d){case"doc":case"docx":return"word";break;case"xls":case"csv":case"xlsx":return"xls";break;case"txt":return"txt";break;case"ppt":case"pptx":return"powerpoint";break;case"pdf":return"pdf";break;case"zip":case"rar":return"zip";break;default:return"file";break}}};a.register.controller("cAnnouncementAttachments",["$scope","dataService","growlNotifications","$modalInstance","data",c])});