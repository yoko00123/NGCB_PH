"use strict";define(["app"],function(a){var k=function(al){var am=0;for(var ak in al){if(al[ak]&&al[ak].hasOwnProperty&&al[ak].hasOwnProperty("$invalid")&&al[ak].$name!="import-excel"){if(al[ak].$invalid){return am}am++}}return 0};var l=function(al){var am=1;for(var ak in al){if(al[ak]&&al[ak].hasOwnProperty&&al[ak].hasOwnProperty("$invalid")){if(String(al[ak].$name).indexOf("master")>-1){if(al[ak].$invalid){return am}am++}}}return 0};var ai=angular.module("wDirectives",[]);var u=function(al,ak,an,am){return{restrict:"A",replace:true,transclude:true,scope:{menus:"=",favourites:"="},template:'<ul><li sly-repeat="menu in menus" ng-class="{ \'open && !isMenuOnTop() \' : menu.Collapsed }" ><a href="" ng-if="menu.Children.length > 0" ng-click="collapse(menu)"  ><span ng-if="menu.Label == \'\'" class="menu-item-parent">{{menu.Name}}</span><span ng-if="menu.Label != \'\'" class="menu-item-parent">{{menu.Label}}</span><b class="collapse-sign" ng-if="!menu.Collapsed && isMenuOnTop()"><em class="fa fa-plus-square-o"></em></b><b class="collapse-sign" ng-if="menu.Collapsed && isMenuOnTop()"><em class="fa fa-minus-square-o"></em></b></a><a context-menu="({{isfav(menu.ID)}} !== true ? addToFavourites : removeFromFavourites)" ng-if="menu.Children.length == 0 && (menu.Name!=\'Home\' && menu.Name!=\'ApplicantDashboard\')" ui-sref="{{menu.ID}}" ><span ng-if="menu.Label == \'\'" class="menu-item-parent">{{menu.Name}}</span><span ng-if="menu.Label != \'\'" class="menu-item-parent">{{menu.Label}}</span></a><a class="home" ng-if="menu.Children.length == 0 && (menu.Name==\'Home\')" ui-sref="{{menu.ID}}" ><i class="fa fa-lg fa-fw fa-home"></i></a><div ng-if="menu.Children.length > 0" ng-class="{ \'show\' : menu.Collapsed, \'hide\' : !menu.Collapsed }"  ng-recursive-menu menus="menu.Children" favourites="favourites" class="animate-show" ><div ng-transclude></div></div></li></ul>',compile:function(ar,ao,at){var aq=ar.contents().remove();var ap;return function(aw,av,au){aw.isfav=function(ay){var ax=aw.favourites.filter(function(az){return az.mID==ay}).length;if(ax>0){return true}else{return false}};aw.addToFavourites=[["Add to bookmark",function(ay,ax,aA){var aB=ay.$parent.$index;var aC=ay.menus[aB].ID;var az=aw.favourites.filter(function(aD){return aD.mID==aC}).length;if(az==0){am.addToFavourites(aC).then(function(aD){if(aD.data.type=="2"){g.add(aD.data.msg,"danger",5000)}else{aw.favourites.push({mID:aC,WebMenus:ay.menus[aB].Name,url:"#/"+ay.menus[aB].Name.replace(/ /g,"-")+"/",bgcolor:"red",color:"white",icon:'<i class="fa fa-music"></i>'})}})}}]];aw.removeFromFavourites=[["Remove from bookmark",function(ay,ax,aA){var aB=ay.$parent.$index;var aC=ay.menus[aB].ID;var az=aw.favourites.filter(function(aD){return aD.mID==aC}).length;if(az>0){angular.forEach(aw.favourites,function(aE,aD){if(aE.mID==aC){am.removeFromFavourites(aC).then(function(aF){if(aF.data.type=="2"){g.add(aF.data.msg,"danger",5000)}else{aw.favourites.splice(aD,1)}})}})}}]];if(!ap){ap=al(aq,at)}aw.collapse=function(ax){console.log(an);if(an){return}ax.Collapsed=!ax.Collapsed};aw.isMenuOnTop=function(){return !an};ap(aw,function(ax,ay){av.append(ax)})}},}};ai.directive("ngRecursiveMenu",["$compile","$document","isNotMobile","dataService",u]);var af=function(al,ak,am){return{restrict:"A",link:function(ap,ao){var aq,an,ar;return an=angular.element(ak[0].body),ao.on("click",function(at){at.stopPropagation();return an.hasClass("hidden-menu")?an.removeClass("hidden-menu"):(an.addClass("hidden-menu"),al.$broadcast("hideNav:enabled")),at.preventDefault()}),aq=void 0,ar=function(){var at;return at=am.innerWidth,768>at?an.removeClass("hidden-menu"):void 0},angular.element(am).bind("resize",function(){var at;return clearTimeout(at),at=setTimeout(ar,300)})}}};ai.directive("toggleHideNav",["$rootScope","$document","$window",af]);var ae=function(al,ak){return{restrict:"A",link:function(ap,an){var am,ao=document.documentElement;return am=angular.element(ak[0].body),an.on("click",function(aq){return am.hasClass("full-screen")?(am.removeClass("full-screen"),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()):(am.addClass("full-screen"),ao.requestFullscreen?ao.requestFullscreen():ao.mozRequestFullScreen?ao.mozRequestFullScreen():ao.webkitRequestFullscreen?ao.webkitRequestFullscreen():ao.msRequestFullscreen&&ao.msRequestFullscreen())})}}};ai.directive("toggleFullScreen",["$rootScope","$document",ae]);var ac=function(ak){return{restrict:"A",link:function(an,al){var am;return am=al.parent(),ak.on("click",function(ao){if(am.hasClass("open")){am.removeClass("open")}}),al.on("click",function(ao){return am.hasClass("open")?am.removeClass("open"):am.addClass("open"),ao.stopPropagation()})}}};ai.directive("toggleDropdown",["$document",ac]);var ad=function(){return{restrict:"A",link:function(ar,an,ak){var aq=ak.toggleFilter,ao=angular.element("#grid-filter-"+aq),am=angular.element("body"),al=angular.element('<div class="aside-backdrop am-fade"/>');al.css({position:"fixed",top:"0px",left:"0px",bottom:"0px",right:"0px","z-index":"1038",display:"block","background-color":"rgba(0,0,0,.5)"});function ap(){ao.addClass("hide");al.remove()}return an.on("click",function(at){al.on("click",ap);am.append(al);return ao.hasClass("hide")?ao.removeClass("hide"):ao.addClass("hide"),ao.css({top:70})})}}};ai.directive("toggleFilter",[ad]);var aa=function(ak){return{restrict:"EA",link:function(an,am,al){var ao='<div id="ribbon"><ol class="breadcrumb bcrumb"><li ng-repeat="breadcrumb in breadcrumbs">{{breadcrumb.name}}</li></ol></div>';ao=ak(ao)(an);am.replaceWith(ao)}}};ai.directive("ngRibbon",["$compile",aa]);var ah=function(am,an,ao,al,ak){return{restrict:"EA",transclude:true,s:{wcOverlayDelay:"@"},template:'<div id="overlay-container" class="overlayContainer"><div id="overlay-background" class="overlayBackground"></div><div id="overlay-content" class="overlayContent" data-ng-transclude></div></div>',link:function(aB,aq,ap){var ax=null,aD=null,aE=null,av=false,aw=true,aA=[];au();function au(){aG();ax=document.getElementById("overlay-container")}function aG(){al.request=function(aH){if(aH.disableInterceptor==undefined||aH.disableInterceptor==false){ay()}return aH||am.when(aH)};al.response=function(aH){az();return aH||am.when(aH)};al.responseError=function(aH){az();console.log(aH.data);ak.add("Error occurred. Contact system administrator.","danger",5000);return aH||am.when(aH)}}function aF(){$(document).ajaxStart(function(){ay()});$(document).ajaxComplete(function(){az()});$(document).ajaxError(function(){az()});var aH=$("body");aH.livequery("iframe",function(aI){ay();$("iframe").ready(function(aJ){az()})})}function ay(){aA.push({});if(aA.length==1){aD=an(function(){if(aA.length){aC()}},aB.wcOverlayDelay?aB.wcOverlayDelay:300)}}function az(){aA.pop();if(aA.length==0){aE=an(function(){if(aA.length==0){at();if(aE){an.cancel(aE)}}},aB.wcOverlayDelay?aB.wcOverlayDelay:300)}}function aC(){var aL=0;var aK=0;if(!ao.innerWidth){if(!(document.documentElement.clientWidth==0)){aL=document.documentElement.clientWidth;aK=document.documentElement.clientHeight}else{aL=document.body.clientWidth;aK=document.body.clientHeight}}else{aL=ao.innerWidth;aK=ao.innerHeight}var aH=document.getElementById("overlay-content");var aJ=parseInt(ar(aH,"width").replace("px",""));var aI=parseInt(ar(aH,"height").replace("px",""));aH.style.top=aK/2-(isNaN(aI)?0:aI)/2+"px";aH.style.left=aL/2-aJ/2+"px";ax.style.display="block"}function at(){if(aD){an.cancel(aD)}ax.style.display="none"}var ar=function(){var aH=null;if(document.defaultView&&document.defaultView.getComputedStyle){aH=document.defaultView.getComputedStyle}else{if(typeof(document.body.currentStyle)!=="undefined"){aH=function(aJ,aI){return aJ.currentStyle}}}return function(aI,aJ){return aH(aI,null)[aJ]}}()}}},o=function(ak){ak.interceptors.push("httpInterceptor")},n=function(){return{}};ai.factory("httpInterceptor",n);ai.config(["$httpProvider",o]);ai.directive("wcOverlay",["$q","$timeout","$window","httpInterceptor","growlNotifications",ah]);var b=function(am,al,an,ak){return{response:function(ao){if(ao.status===401){console.log("Response 401")}return ao||am.when(ao)},responseError:function(ao){if(ao.status===401){window.location="login.aspx"}if(ao.status===404||ao.status===500){an(function(){al.path("/404");setTimeout(function(){var ap=ak.get("$modalStack");var aq=ap.getTop();if(aq){ap.dismiss(aq.key)}},150)})}return am.reject(ao)}}},m=function(ak){ak.interceptors.push("authHttpResponseInterceptor")};ai.factory("authHttpResponseInterceptor",["$q","$location","$timeout","$injector",b]);ai.config(["$httpProvider",m]);var K=function(ak){return{restrict:"A",scope:"=",link:function(ap,am,al){var an=al.mid,ao=al.mtype;am.on("click",function(){var aq="ID_"+an;var ar={};ar[aq]=0;switch(parseInt(ao)){case 3:ak.go(String(an),ar);break;case 12:if(ak.current.name.split(".").indexOf(an)==-1){ak.go(ak.current.name+"."+an,ar)}else{ak.go(ak.current.name,ar)}break;default:}})}}};ai.directive("ngFormNew",["$state",K]);var N=function(ak,am,an,ao,al,ap){return{restrict:"A",scope:"=",link:function(aw,av,aq){var ar=aq.btnid,at=aq.confirm,au=aq.delay;av.on("click",function(){aw.mainform.$submitted=true;if(aw.mainform.$valid){localStorage.setItem("mID",aw.mID);localStorage.setItem("tab",aw.tabs.activeTab==undefined?0:aw.tabs.activeTab);if(at===undefined){aw.mainform.$setPristine();ak.Save(aw.mID,aw.rID,ar,aw.Master,aw.Detail,aw.selectedFiles).then(function(aB){if(aB.messageType==2){am.add(aB.message,"danger",5000)}else{var ay="ID_"+aw.mID;var aA={};aA[ay]=aB.ID;for(var az in an.params){if(az!=ay){aA[az]=an.params[az]}}an.go(an.current,aA,{reload:true,inherit:false,notify:true});am.add(aB.message,"info",5000)}aw.mainform.$submitted=false})}else{var ax=al.confirm(undefined,at,{size:"sm",keyboard:true,backdrop:true});ax.result.then(function(ay){aw.mainform.$setPristine();ak.Save(aw.mID,aw.rID,ar,aw.Master,aw.Detail,aw.selectedFiles).then(function(aC){if(aC.messageType==2){am.add(aC.message,"danger",5000)}else{var az="ID_"+aw.mID;var aB={};aB[az]=aC.ID;for(var aA in an.params){if(aA!=az){aB[aA]=an.params[aA]}}an.go(an.current,aB,{reload:true,inherit:false,notify:true});am.add(aC.message,"info",5000)}aw.mainform.$submitted=false})},function(ay){})}}else{ap(function(){if(aw.mainform.$error.pattern){am.add("Invalid values on other fields.","danger",5000)}else{if(aw.mainform.$error.minlength){am.add("Minimum length not reach.","danger",5000)}else{if(aw.mainform.$error.maxlength){am.add("You have exceeded the max length.","danger",5000)}else{if(aw.mainform.$error.ngMin){am.add("Input value does not meet the minimum value.","danger",5000)}else{if(aw.mainform.$error.ngMax){am.add("Input value exceeded the maximum value.","danger",5000)}else{am.add("Fill all the required fields.","danger",5000)}}}}}aw.tabs.activeTab=k(aw.mainform)-(au==undefined?0:au)})}});aw.$on("destroy",function(){av.off()})}}};ai.directive("ngFormSave",["dataService","growlNotifications","$state","$stateParams","dialogs","$timeout",N]);var I=function(ak,am,an,al){return{restrict:"EA",link:function(at,ar,ao){var ap=ao.btnid,au=parseInt(ao.targetMid),av=ao.targetTab,aq=ao.confirm;ar.bind("click",function(){at.mainform.$submitted=true;var ax=l(at.mainform);if(ax==0){if(aq===undefined){ak.Generate(at.mID,at.rID,ap,at.Master).then(function(ay){if(ay.messageType==2){am.add(ay.message,"danger",5000)}else{am.add(ay.message,"info",5000);at.Detail[au]=ay.data;at.loadedTab.push(au)}at.mainform.$submitted=false})}else{var aw=al.confirm(undefined,aq,{size:"sm",keyboard:true,backdrop:true});aw.result.then(function(ay){ak.Generate(at.mID,at.rID,ap,at.Master).then(function(az){if(az.messageType==2){am.add(az.message,"danger",5000)}else{am.add(az.message,"info",5000);at.Detail[au]=az.data;at.loadedTab.push(au)}at.mainform.$submitted=false})},function(ay){})}}else{an(function(){am.add("Fill all the required fields.","danger",5000);at.tabs.activeTab=ax-1})}})}}};ai.directive("ngFormGenerate",["dataService","growlNotifications","$timeout","dialogs",I]);var O=function(ak,am,an,al,ao){return{restrict:"A",scope:"=",link:function(au,at,ap){var aq=ap.btnid,ar=ap.confirm;at.bind("click",function(){au.mainform.$submitted=true;if(au.mainform.$valid){localStorage.setItem("mID",au.mID);localStorage.setItem("tab",au.tabs.activeTab==undefined?0:au.tabs.activeTab);if(ar===undefined){au.mainform.$setPristine();ak.SpecialCommand(au.mID,au.rID,aq,au.Master).then(function(az){if(az.messageType==2){am.add(az.message,"danger",5000)}else{var aw="ID_"+au.mID;var ay={};ay[aw]=az.ID;for(var ax in an.params){if(ax!=aw){ay[ax]=an.params[ax]}}if(az.ID=="0"){an.go(az.mID,{},{reload:true})}else{an.go(an.current.name,ay,{reload:true})}am.add(az.message,"info",5000)}au.mainform.$submitted=false})}else{var av=al.confirm(undefined,ar,{size:"sm",keyboard:true,backdrop:true});av.result.then(function(aw){au.mainform.$setPristine();ak.SpecialCommand(au.mID,au.rID,aq,au.Master).then(function(aA){if(aA.messageType==2){am.add(aA.message,"danger",5000)}else{var ax="ID_"+au.mID;var az={};az[ax]=aA.ID;for(var ay in an.params){if(ay!=ax){az[ay]=an.params[ay]}}if(aA.ID=="0"){an.go(aA.mID,{},{reload:true})}else{an.go(an.current.name,az,{reload:true})}am.add(aA.message,"info",5000)}au.mainform.$submitted=false})},function(aw){})}}else{ao(function(){am.add("Fill all the required fields.","danger",5000);au.tabs.activeTab=k(au.mainform)})}})}}};ai.directive("ngFormSpecialCommand",["dataService","growlNotifications","$state","dialogs","$timeout",O]);var L=function(){return{restrict:"A",scope:"=",link:function(an,al,ak){var am=ak.ngFormPrint;al.bind("click",function(){var aq=document.getElementById(am).innerHTML;var ao=document.body.innerHTML;var ap=window.open("","_blank","width=1200,height=800");ap.document.open();ap.document.write('<html><head><link rel="stylesheet" type="text/css" href="Styles/System/bootstrap.3.2.min.css" /><link rel="stylesheet" type="text/css" href="Styles/System/ng-grid.css"/><link rel="stylesheet" type="text/css" href="Styles/System/font-awesome.min.css"/><link rel="stylesheet" type="text/css" href="Styles/Default/default.css"/><link rel="stylesheet" type="text/css" href="Styles/Default/additional.css"/><link rel="stylesheet" type="text/css" href="Styles/Skins/green.css"/></head><body onload="window.print()">'+aq+"</html>");ap.document.close()})}}};ai.directive("ngFormPrint",L);var R=function(ak,al){return{restrict:"A",scope:"=",link:function(ap,an,am){var ao=am.ngLoadColumns;an.on("click",function(){var aq=al.create("Dialogs/LoadColumns.html","cLoadColumns",{columns:ap.gridOptions[ao].columnDefs,colException:"ID"},{size:"md",keyboard:true,backdrop:"static"});aq.result.then(function(ar){console.log(ar);ap.gridOptions[ao].columnDefs=ar;ap.gridOptions[ao].$gridScope.firstAdjustmentLeft=false;ap.gridOptions[ao].ngGrid.lateBoundColumns=false;ap.gridOptions[ao].$gridScope.columns.length=0;ap.gridOptions[ao].ngGrid.config.columnDefs=ar;ap.gridOptions[ao].ngGrid.buildColumns();ap.gridOptions[ao].ngGrid.eventProvider.assignEvents();ap.gridOptions[ao].$gridServices.DomUtilityService.RebuildGrid(ap.gridOptions[ao].$gridScope,ap.gridOptions[ao].ngGrid)},function(ar){})})}}};ai.directive("ngLoadColumns",["dataService","dialogs",R]);var B=function(ak,al,am,an){return{restrict:"A",scope:"=",link:function(ar,ap,ao){var aq=ao.ngColumnSelection;ap.on("click",function(){ak.ColumnSelection(aq).then(function(au){var at=al.create("Dialogs/ColumnSelection.html?v="+Web_System_Version,"ColumnSelection",{columns:au.data},{size:"md",keyboard:true,backdrop:"static"});at.result.then(function(av){ak.SaveColumnSelection(aq,av).then(function(aw){if(aw.error.length>0){am.add(aw.error,"danger",5000)}else{an.go(an.current,an.params,{reload:true,inherit:false,notify:true})}})},function(av){})})})}}};ai.directive("ngColumnSelection",["dataService","dialogs","growlNotifications","$state",B]);var Q=function(ak,am,al){return{restrict:"A",scope:"=",link:function(at,aq,an){var ar=an.mid,ao=an.btnid,ap=an.confirm;aq.bind("click",function(){if(ap===undefined){ak.GenerateExcelTemplate(ar,ao,at.rID==undefined?0:at.rID,at.Master)}else{var au=al.confirm(undefined,ap);au.result.then(function(av){ak.GenerateExcelTemplate(ar,ao,at.rID==undefined?0:at.rID,at.Master)},function(av){})}})}}};ai.directive("ngGenerateExcelTemplate",["dataService","growlNotifications","dialogs",Q]);var F=function(ak){return{restrict:"A",scope:"=",link:function(ao,am,al){var an=al.mid;am.bind("click",function(){var ap=ao.gridEvents[an].getGridPagingState();ak.ExportToExcel(an,ap.currentPageSize,ap.currentPage,ap.currentSortColumn,ap.currentSortDirection,ao.filter[an],ao.rID)})}}};ai.directive("ngExportToExcel",["dataService",F]);var w=function(ak,al,am){return{restrict:"A",scope:"=",link:function(ar,ao,an){var ap=an.mid,aq=an.mtype;ao.bind("click",function(){ak.AddNewRow(ap,ar.Master).then(function(at){if(aq=="17"){ar.gridData[ap].push(at.data)}else{ar.Detail[ap].push(at.data)}if(!ar.$$phase){ar.$apply()}})})}}};ai.directive("ngAddNewRow",["dataService","growlNotifications","$state",w]);var z=function(ak,al,am){return{restrict:"A",scope:"=",link:function(ar,ap,an){var ao=an.btnid,aq=parseInt(an.mid);ap.on("click",function(){ar["grid-"+aq].$submitted=true;if(ar["grid-"+aq].$valid){ak.BatchGridSave(aq,ao,ar.gridData[aq]).then(function(av){if(av.messageType==2){al.add(av.message,"danger",5000)}else{var at="ID_"+ar.mID;var au={};au[at]=av.ID;am.go(am.current.name,au,{reload:true});al.add(av.message,"info",5000)}ar["grid-"+aq].$submitted=false})}else{al.add("Fill all the required fields.","danger",5000)}})}}};ai.directive("ngBatchGridSave",["dataService","growlNotifications","$state",z]);var y=function(al,an,ao,ak,am){return{restrict:"A",scope:"=",link:function(av,at,ap){var au=ap.mid,ar=ap.confirm;at.bind("click",function(){var ax=av.gridEvents[au].getSelectedRows();if(ax.length==0){ak(function(){an.add("Select a record.","danger",5000)},0)}else{if(ar===undefined||ar.length==0){aq()}else{var aw=am.confirm(undefined,ar,{size:"sm",keyboard:true,backdrop:true});aw.result.then(function(ay){aq()})}}});function aq(){var ay=av.gridEvents[au].getSelectedRows();var ax=new Array();for(var aw=0;aw<ay.length;aw++){ax.push(ay[aw].ID)}al.BatchGridDelete(au,ax).then(function(az){if(az.message!=""){an.add(az.message,"danger",5000)}else{ao.go(ao.current.name,{},{reload:true});an.add("Record deleted!","danger",5000)}})}}}};ai.directive("ngBatchGridDelete",["dataService","growlNotifications","$state","$timeout","dialogs",y]);var x=function(ak,al,am){return{restrict:"A",scope:"=",link:function(ar,ap,an){var aq=an.mid,ao=an.btnid;ap.bind("click",function(){var av=ar.gridEvents[aq].getSelectedRows();if(av.length==0){al.add("Select a record.","danger",5000)}else{var au=new Array();for(var at=0;at<av.length;at++){au.push(av[at].ID)}ak.BatchGridCommand(aq,ao,au).then(function(aw){am.go(am.current.name,{},{reload:true});al.add(aw.message,"info",5000)})}})}}};ai.directive("ngBatchGridCommand",["dataService","growlNotifications","$state",x]);var X=function(ak,al){return{restrict:"EA",link:function(ao,an,am){an.bind("click",function(){ak.Publish(ao.Master).then(function(ap){al.add(ap.message,"info",5000)})})}}};ai.directive("ngPublish",["dataService","growlNotifications",X]);var W=function(){return{restrict:"A",scope:"=",link:function(am,al,ak){al.bind("keydown",function(an){if(an.which!=8&&an.which!=0&&(an.which<48||an.which>57)){return false}})}}};ai.directive("ngNumericOnly",[W]);var C=function(){return{restrict:"A",scope:"=",link:function(an,al,ak){var am=ak.fixedDecimal;al.bind("change keydown keyup",function(ao){if(ao.which!=8&&ao.which!=0&&ao.which!=190&&ao.which!=110&&(ao.which<48||ao.which>57)){return false}if((ao.which==190||ao.which==110)&&al.val().split(".").length-1>=1){return false}});if(am!=undefined){al.bind("blur",function(ao){al.val(parseFloat(al.val()).toFixed(am))})}}}};ai.directive("ngCurrencyOnly",[C]);var ag=function(al,ak){return{restrict:"A",scope:{feedbackType:"@",label:"@",formValidation:"@"},link:function(ar,ao,am){var aq=ao;var ap=aq.parent();function an(at){function au(){ap.removeClass("has-feedback");ap.removeClass("has-success");ap.removeClass("has-warning");ap.removeClass("has-error");ap.find(".form-control-feedback").remove()}au();if(at==="SUCCESS"){ap.addClass("has-success")}else{if(at==="WARNING"){ap.addClass("has-warning")}else{if(at==="ERROR"){ap.addClass("has-error")}}}}ar.$on("validateFormEvent",function(at,au){if(ar.formValidation==="true"){an("SUCCESS")}else{an("ERROR")}})}}};ai.directive("validatedInput",["$tooltip","$interval",ag]);var aj=function(){return{restrict:"EA",link:function(am,al,ak){$(al).draggable()}}};ai.directive("wdraggable",[aj]);var e=function(){return{restrict:"A",require:"ngModel",link:function(an,al,ak,am){am.$parsers.push(function(ao){return moment(ao).format("YYYY-MM-DD 00:00:00")})}}};ai.directive("dateToIso",[e]);var ab=function(){return{restrict:"A",require:"ngModel",link:function(an,al,ak,am){am.$parsers.push(function(ao){return moment(ao).format("YYYY-MM-DD HH:mm:ss")})}}};ai.directive("timeToIso",[ab]);var d=function(){return{restrict:"A",link:function(am,al,ak){al.bind("click",function(){var ao=angular.element(document.getElementsByTagName("body"));var ap=[];var an=function(ar){angular.forEach(["$scope","$isolateScope"],function(at){if(ar.data()&&ar.data().hasOwnProperty(at)){angular.forEach(ar.data()[at].$$watchers,function(au){ap.push(au)})}});angular.forEach(ar.children(),function(at){an(angular.element(at))})};an(ao);var aq=[];angular.forEach(ap,function(ar){if(aq.indexOf(ar)<0){aq.push(ar)}});console.log(aq.length)})}}};ai.directive("countWatch",[d]);var j=function(){return{require:"ngModel",link:function(an,al,ak,am){al.bind("change",function(ao){var ap=al.val().split("\\");an.$apply(function(){am.$setViewValue(ap[ap.length-1]);am.$render()})})}}};ai.directive("fileInput",[j]);var P=function(ak,al,am,an){return{restrict:"A",scope:"=",link:function(ar,aq,ao){var ap=ao.btnid;aq.on("click",function(){ar.mainform.$submitted=true;if(ar.mainform.$valid){ak.FormUpload(ar.mID,ar.rID,ap,ar.Master,ar.Detail,ar.selectedFiles).then(function(av){if(av.messageType==2){al.add(av.message,"danger",5000)}else{var at="ID_"+ar.mID;var au={};au[at]=av.ID;am.go(am.current,an,{reload:true,inherit:false,notify:true});al.add(av.message,"info",5000)}ar.mainform.$submitted=false})}else{al.add("Fill all the required fields.","danger",5000);ar.tabs.activeTab=k(ar.mainform)}})}}};ai.directive("ngFormUpload",["dataService","growlNotifications","$state","$stateParams",P]);var i=function(ak){return{restrict:"A",link:function(ap,am,al){var an=al.downloadFile,ao=al.filename;am.on("click",function(){ak.downloadFile("Upload/"+an,ao)})}}};ai.directive("downloadFile",["dataService",i]);var Z=function(){return{restrict:"A",link:function(ao,am,ak){var al={showThumbs:true,ignoreSizing:true};var an=["direction"];angular.forEach(an,function(ap){if(angular.isDefined(ak[ap])){al[ap]=ak[ap]}});setTimeout(function(){$(am[0]).overscroll(al)},0)}}};ai.directive("overScroll",[Z]);var c=function(){return{restrict:"A",link:function(an,al,ak){var am=angular.element(al).parent().children(".pull-left");al.bind("scroll",function(ao){$(am).scrollTop(angular.element(al).prop("scrollTop"))})}}};ai.directive("comparisonScroll",[c]);var M=function(ak,am,an,ao,al,ap){return{restrict:"A",scope:"=",link:function(at,ar,aq){ar.on("click",function(){var ax=aq.mid;var aw=new Array();if(at.gridOptions!=undefined){if(at.gridOptions[ax]!=undefined){for(var av=0;av<at.gridOptions[ax].selectedItems.length;av++){aw.push(at.gridOptions[ax].selectedItems[av].ID)}}else{if(aq.customrefid!=undefined){aw.push(aq.customrefid)}else{aw.push(at.Master.ID)}}}else{if(aq.customrefid!=undefined){aw.push(aq.customrefid)}else{aw.push(at.Master.ID)}}var au=al.create("Dialogs/PrintReport.html","PrintReport",{rID:aw,mID:ax},{size:"xl",keyboard:true,backdrop:"static",windowClass:"my-class"})})}}};ai.directive("ngFormPrintReport",["dataService","growlNotifications","$state","$stateParams","dialogs","$timeout",M]);function s(){var ak=new Date().getTime();t(function(){var al=(new Date().getTime()-ak)+" ms";console.log("ANGULAR - List updated in: "+al)})}var p=function(aw,am,av,an,ap){var ak=an.cid;var ao=an.filter.toLowerCase();aw.lookupdata={};aw.tmpData={};aw.tmpData.data=[];aw.lookupdata.data=[];aw.targetDisplay=an.display;var aq=0,at;var al=[];var au=aq;var az=an.lookup_source[aq];for(at in az){var ax=at;var ay=az.j;al.push(ax)}if(ao.length>0){angular.forEach(an.lookup_source,function(aD){var aC=al.indexOf(aw.targetDisplay);if(aC==-1){aC=1;aw.targetDisplay=al[aC]}var aE=(aD[al[aC]]==null||aD[al[aC]]==undefined?"":aD[al[aC]].toLowerCase());if(aE.indexOf(ao)>=0){aw.lookupdata.data.push(aD)}})}else{var ar=al.indexOf(aw.targetDisplay);if(ar==-1){ar=1;aw.targetDisplay=al[ar]}aw.lookupdata.data=an.lookup_source}aw.lookupdata.col=al;aw.lookupdata.name=an.label;aw.cancel=function(){av.dismiss()};aw.getVal=function(aE,aC){var aD={};aD.Name=aC;aD.Value=aE;av.close(aD)};var aA=0;var aB=0;for(aA;aA<20;aA++){if(aw.lookupdata.data[aA]!=undefined){aw.tmpData.data.push(aw.lookupdata.data[aA])}}setTimeout(function(){$("#lookupContainer").on("scroll",function(){if(($(this).scrollTop()+$(this).innerHeight()-10)==$(this)[0].scrollHeight&&($(this).innerHeight()-10)!=$(this)[0].scrollHeight){var aC=aA+10;if(aA<=aw.lookupdata.data.length){if(aA>=30){aB=aB+9;for(var aF=0;aF<9;aF++){aw.tmpData.data.shift(aF)}}for(aA;aA<aC;aA++){if(aA<=aw.lookupdata.data.length){aw.tmpData.data.push(aw.lookupdata.data[aA]);aw.rebuildColumns()}else{ap.add("No new record.","info",5000);break}}}else{ap.add("No new record.","info",5000)}}else{if($(this).scrollTop()==0){var aC=(aA-aB)-10;var aD=aA-aB;var aE=aB-9;if(aA>=30){if(aB>0){for(aD;aD>aC;aD--){aw.tmpData.data.splice(aD-1,1)}aA=aA-10;for(aB;aB>aE;aB--){aw.tmpData.data.unshift(aw.lookupdata.data[aB-1]);aw.rebuildColumns()}}}}}})},200);aw.rebuildColumns=function(){setTimeout(function(){$(".lookupgrid th").each(function(){var aC=$(this).html().length;var aD=(aC*10)+20;$(this).css("min-width",aD)});$(".lookupgrid td div").each(function(){var aC=$(this).html().length;var aD=(aC*5)+20;$(this).css("min-width",aD)})},200)};aw.rebuildColumns()};var J=function(ak,am,an,ao,al,ap){a.register.controller("LookUp",["$scope","dataService","$modalInstance","data","growlNotifications",p]);return{restrict:"A",scope:{targetName:"=",targetValue:"=",targetSource:"=",targetDisplay:"="},link:function(au,at,aq){var ar="#"+aq.targetAddon;at.on("keyup",function(aw){var ax=aw.keyCode||aw.which;if(au.targetName==""||au.targetName==null||au.targetName==undefined){au.targetValue=null;au.$apply()}else{var av=au.targetSource;var ay=av.filter(function(az){return az[(au.targetDisplay==""||au.targetDisplay==null||au.targetDisplay==undefined?"Name":au.targetDisplay)]==au.targetName});if(ay.length==1){au.targetValue=ay[0].ID;au.$apply()}}});at.on("keydown",function(ax){var ay=ax.keyCode||ax.which;if(ay==9){ax.preventDefault();var av=aq.cid;var az=aq.ngModel;var aw=al.create("Dialogs/LookUp.html","LookUp",{lookup_source:au.targetSource,display:(au.targetDisplay==null||au.targetDisplay==undefined||au.targetDisplay==""?"Name":au.targetDisplay),label:aq.placeholder,cid:av,filter:(au.targetName==null||au.targetName==undefined?"":au.targetName)},{size:"xl",keyboard:true,backdrop:"static",windowClass:"my-class"});aw.result.then(function(aA){au.targetName=aA.Name;au.targetValue=aA.Value})}});setTimeout(function(){$(ar).on("click",function(){var av=aq.cid;var ax=aq.ngModel;var aw=al.create("Dialogs/LookUp.html","LookUp",{lookup_source:au.targetSource,display:(au.targetDisplay==null||au.targetDisplay==undefined||au.targetDisplay==""?"Name":au.targetDisplay),label:aq.placeholder,cid:av,filter:(au.targetName==null||au.targetName==undefined?"":au.targetName)},{size:"xl",keyboard:true,backdrop:"static",windowClass:"my-class"});aw.result.then(function(ay){au.targetName=ay.Name;au.targetValue=ay.Value})})},100)}}};ai.directive("ngFormLookup",["dataService","growlNotifications","$state","$stateParams","dialogs","$timeout",J]);var h=function(au,am,ar,an){var ak=an.cid;au.detailedlookupdata={};au.detailedlookupdata.data=an.detailedlookup_source;au.detailedValuelookup=[];if(an.targetValue!=undefined&&an.targetValue!=""){an.targetValue=an.targetValue.split(",")}if(an.targetValue!=undefined&&an.targetValue!=""){for(var ay=0;an.targetValue.length>ay;ay++){var az=au.detailedlookupdata.data.filter(function(aA){return aA.ID==an.targetValue[ay]});au.detailedValuelookup.push({ID:an.targetValue[ay],Name:az[0].Name})}}angular.forEach(au.detailedValuelookup,function(aC,aB){var aA=au.detailedlookupdata.data.filter(function(aD){return aD.ID==aC.ID});au.detailedlookupdata.data.map(function(aD,aE){if(aD.ID==aA[0].ID){au.detailedlookupdata.data[aE].selected=true}})});var ao=1,ap;var al=[];var aq=ao;var ax=au.detailedlookupdata.data[ao];for(ap in ax){var av=ap;var aw=ax.j;if(av!="selected"){al.push(av)}}au.detailedlookupdata.col=al;au.detailedlookupdata.name=an.label;au.cancel=function(){ar.close(at)};var at={};at.Value=[];angular.forEach(au.detailedValuelookup,function(aA){at.Value.push(aA.ID)});au.getVal=function(aB){if($("#cbox_"+aB).is(":checked")){at.Value.push(aB)}else{var aA=-1;if(at.Value.indexOf(String(aB))>-1){aA=at.Value.indexOf(String(aB))}else{aA=at.Value.indexOf(aB)}if(aA>-1){at.Value.splice(aA,1)}}};setTimeout(function(){$(".lookupgrid th").each(function(){var aA=$(this).html().length;var aB=(aA*10)+20;$(this).css("min-width",aB)});$(".lookupgrid td div").each(function(){var aA=$(this).html().length;var aB=(aA*5)+20;$(this).css("min-width",aB)})},200);au.checkAll=function(aA){var aB=aA.target;var aC=aB.checked;if(aC){at.Value=[]}angular.forEach(au.detailedlookupdata.data,function(aE){aE.selected=aC;if(aC){at.Value.push(aE.ID)}else{var aD=at.Value.indexOf(aE.ID);if(aD>-1){at.Value.splice(aD,1)}}})}};var H=function(ak,am,an,ao,al,ap){a.register.controller("DetailedLookUp",["$scope","dataService","$modalInstance","data",h]);return{restrict:"A",scope:{targetValue:"=",targetName:"=",targetSource:"="},link:function(at,ar,aq){ar.on("click",function(){var au=aq.cid;var aw=aq.ngModel;var av=al.create("Dialogs/DetailedLookUp.html","DetailedLookUp",{targetValue:at.targetValue,detailedlookup_source:at.targetSource,label:aq.placeholder,cid:au},{size:"xl",keyboard:true,backdrop:"static",windowClass:"my-class"});av.result.then(function(ay){var ax="";at.targetDetailSource=[];angular.forEach(ay.Value,function(aC){ax+=String(aC)+","});if(ay.Value!=undefined){at.targetName="";for(var aA=0;ay.Value.length>aA;aA++){var aB=at.targetSource.filter(function(aC){return aC.ID==ay.Value[aA]});at.targetName+=aB[0].Name+", "}}var az=at.targetName;at.targetName=az.substr(0,az.length-2);at.targetValue=ax.substr(0,ax.length-1)})})}}};ai.directive("ngFormDetailedLookup",["dataService","growlNotifications","$state","$stateParams","dialogs","$timeout",H]);var D=function(ak){return{restrict:"A",scope:{targetDetailSource:"=",targetSource:"="},link:function(at,ao,al){var am=al.cid;var au="";at.detailedlookupdata={};at.detailedlookupdata.data=at.targetSource;var ap=1,aq;var an=[];var ar=ap;var ax=at.detailedlookupdata.data[ap];for(aq in ax){var av=aq;var aw=ax.j;if(av!="selected"){an.push(av)}}at.detailedlookupdata.col=an;au+="<table width='100%' align='center' ng-if='targetDetailSource.length > 0' class='lookupgrid'>";au+="<thead>";au+="<th>ID</th>";au+="<th>Name</th>";au+="</thead>";au+="<tbody>";au+="<tr ng-repeat='d in detailedValuelookup_source["+am+"]'>";au+="<td ng-repeat='t in detailedlookupdata.col' ng-lookup-filter-result filter-source='detailedlookup_source["+am+"]' filter-source-column='t' filter-source-value='d.ID'></td>";au+="</tr>";au+="</tbody>";au+="</table>";ao.append(ak(au)(at))}}};ai.directive("ngDetailedLookupGrid",["$compile",D]);var T=function(ak){return{restrict:"A",scope:{filterSourceColumn:"=",filterSourceValue:"=",filterSource:"="},link:function(ap,ao,am){var al=ap.filterSource.filter(function(aq){return aq.ID==ap.filterSourceValue});var an="";angular.forEach(al[0],function(aq,ar,at){if(ar==ap.filterSourceColumn){an=aq}});ao.append(an)}}};ai.directive("ngLookupFilterResult",["$compile",T]);var V=function(){return{restrict:"A",require:"ngModel",link:function(ap,am,ak,al){function an(aq){return angular.isUndefined(aq)||aq===""||aq===null||aq!==aq}var ao=function(ar){var aq=ap.$eval(ak.ngMin)||0;if(!an(ar)&&ar<aq){al.$setValidity("ngMin",false);return undefined}else{al.$setValidity("ngMin",true);return ar}};al.$parsers.push(ao);al.$formatters.push(ao)}}};ai.directive("ngMin",V);var U=function(){return{restrict:"A",require:"ngModel",link:function(ap,am,ak,al){function an(aq){return angular.isUndefined(aq)||aq===""||aq===null||aq!==aq}var ao=function(ar){var aq=ap.$eval(ak.ngMax)||Infinity;if(!an(ar)&&ar>aq){al.$setValidity("ngMax",false);return undefined}else{al.$setValidity("ngMax",true);return ar}};al.$parsers.push(ao);al.$formatters.push(ao)}}};ai.directive("ngMax",U);var A=function(ak){return{restrict:"A",require:"ngModel",scope:{ngModel:"=?"},link:function(ao,an,al,am){an.on("keyup",function(){var at=an[0].value;var ap=at.split(" ");for(var ar=0;ar<ap.length;ar++){var aq=ap[ar].charAt(0).toUpperCase();ap[ar]=aq+ap[ar].substr(1).toLowerCase()}ao.$apply(function(){ao.ngModel=ap.join(" ")})})}}};ai.directive("ngCapitalize",A);var E=function(){return{restrict:"A",link:function(am,al,ak){al.bind("keydown keypress",function(an){if(an.which===13){am.$apply(function(){am.$eval(ak.ngEnter)});an.preventDefault()}})}}};ai.directive("ngEnter",E);var Y=function(){return{restrict:"A",link:function(am,al,ak){var an=0;al.scroll(function(){var aq=al.height();var ap=al.prop("scrollHeight");var ao=ap-aq;if(ao-al.scrollTop()<=an){am.$apply(ak.ngScrollEnds)}})}}};ai.directive("ngScrollEnds",Y);var f=function(ak){return{restrict:"A",scope:true,link:function(an,am,al){an.collapsed=false;an.toggle=function(){an.collapsed=!an.collapsed};al.$observe("ddTextCollapseText",function(aw){var ar=an.$eval(al.ddTextCollapseMaxLength);if(aw.length>ar){var ao=String(aw).substring(0,ar);var au=String(aw).substring(ar,aw.length);var ap=ak("<span>"+ao+"</span>")(an);var av=ak('<span ng-if="collapsed">'+au+"</span>")(an);var at=ak('<span ng-if="!collapsed">... </span>')(an);var aq=ak('<br ng-if="collapsed">')(an);var ax=ak('<span class="collapse-text-toggle" ng-click="toggle()">{{collapsed ? "less" : "more"}}</span>')(an);am.empty();am.append(ap);am.append(av);am.append(at);am.append(aq);am.append(ax)}else{am.empty();am.append(aw)}})}}};ai.directive("ddTextCollapse",["$compile",f]);var S=function(ak){return{restrict:"A",link:function(ao,am,al){var an=parseInt(al.mid);am.on("click",function(){ak.loadList(ao.rID,an).then(function(ap){ao.Detail[an]=ao.Detail[an].concat(ap.data);if(!ao.$$phase){ao.$apply()}})});ao.$on("destroy",function(){am.off()})}}};ai.directive("ngLoadList",["dataService",S]);var G=function(ak,am,ao,al,ap,an){return{restrict:"A",scope:"=",link:function(aw,av,aq){var at=aq.btnid,au=aq.confirm,ar=[];av.bind("click",function(){aw.mainform.$submitted=true;if(aw.mainform.$valid){localStorage.setItem("mID",aw.mID);localStorage.setItem("tab",aw.tabs.activeTab==undefined?0:aw.tabs.activeTab);if(au===undefined){aw.mainform.$setPristine();ak.AsyncCommand(aw.mID,aw.rID,at,aw.Master).then(function(aB){$("#hubNotification .notifications .alert").empty();$("#hubNotification").attr("style","display:none;");if(aB.messageType==2){am.add(aB.message,"danger",5000)}else{var ay="ID_"+aw.mID;var aA={};aA[ay]=aB.ID;for(var az in ao.params){if(az!=ay){aA[az]=ao.params[az]}}if(aB.ID=="0"){ao.go(aB.mID,{},{reload:true})}else{ao.go(ao.current.name,aA,{reload:true})}am.add(aB.message,"info",5000)}aw.mainform.$submitted=false})}else{var ax=al.confirm(undefined,au,{size:"sm",keyboard:true,backdrop:true});ax.result.then(function(ay){aw.mainform.$setPristine();ak.AsyncCommand(aw.mID,aw.rID,at,aw.Master).then(function(aC){$("#hubNotification .notifications .alert").empty();$("#hubNotification").attr("style","display:none;");if(aC.messageType==2){am.add(aC.message,"danger",5000)}else{var az="ID_"+aw.mID;var aB={};aB[az]=aC.ID;for(var aA in ao.params){if(aA!=az){aB[aA]=ao.params[aA]}}if(aC.ID=="0"){ao.go(aC.mID,{},{reload:true})}else{ao.go(ao.current.name,aB,{reload:true})}am.add(aC.message,"info",5000)}aw.mainform.$submitted=false})},function(ay){})}}else{ap(function(){am.add("Fill all the required fields.","danger",5000);aw.tabs.activeTab=k(aw.mainform)})}})}}};ai.directive("ngFormAsyncCommand",["dataService","growlNotifications","$state","dialogs","$timeout","$q",G]);var v=function(al,ak,am){return{restrict:"A",replace:true,transclude:true,scope:{favourites:"="},template:'<div context-menu="(IsLockFab ? unlockFab : lockFab)" id="main_fab"><div class="sub_fab_btns_wrapper slideUp kc_fab_pop_top kc_fab_left"><div sly-repeat="fav in favourites | orderBy: \'WebMenus\'"><div context-menu="removeFromFavourites" class="sub_fab_btn" style="background:#337ab7;" title="{{fav.WebMenus}}"><span style="color:white;"><a href="{{fav.url}}">{{fav.WebMenus}}</a></span></div></div><div ng-if="favourites.length == 0" class="sub_fab_btn" style="background:#337ab7;" title="Add your most used menu."><span style="color:white;font-style:italic;">Add your most used menu.</span></div></div><button class="kc_fab_main_btn" style="background-color:#337ab7;"><span style="">=</span></button></div>',compile:function(aq,an,ar){var ap=aq.contents().remove();var ao;return function(aw,au,at){aw.IsLockFab=false;aw.lockFab=[["Disable dragging",function(az,ay,aA){$("#main_fab").draggable("disable");aw.IsLockFab=true}],["Change text alignment",[["Align left",function(){$(".sub_fab_btns_wrapper").addClass("kc_fab_left");$(".sub_fab_btns_wrapper").removeClass("kc_fab_right")}],["Align right",function(){$(".sub_fab_btns_wrapper").addClass("kc_fab_right");$(".sub_fab_btns_wrapper").removeClass("kc_fab_left")}]]],["Show on...",[["Top",function(){$(".sub_fab_btns_wrapper").addClass("kc_fab_pop_top");$(".sub_fab_btns_wrapper").addClass("slideUp");$(".sub_fab_btns_wrapper").removeClass("slideDown")}],["Bottom",function(){$(".sub_fab_btns_wrapper").removeClass("kc_fab_pop_top");$(".sub_fab_btns_wrapper").addClass("slideDown");$(".sub_fab_btns_wrapper").removeClass("slideUp")}]]]];aw.unlockFab=[["Enable dragging",function(az,ay,aA){$("#main_fab").draggable("enable");aw.IsLockFab=false}],["Change text alignment",[["Align left",function(){$(".sub_fab_btns_wrapper").addClass("kc_fab_left");$(".sub_fab_btns_wrapper").removeClass("kc_fab_right")}],["Align right",function(){$(".sub_fab_btns_wrapper").addClass("kc_fab_right");$(".sub_fab_btns_wrapper").removeClass("kc_fab_left")}]]],["Show on...",[["Top",function(){$(".sub_fab_btns_wrapper").addClass("kc_fab_pop_top");$(".sub_fab_btns_wrapper").addClass("slideUp");$(".sub_fab_btns_wrapper").removeClass("slideDown")}],["Bottom",function(){$(".sub_fab_btns_wrapper").removeClass("kc_fab_pop_top");$(".sub_fab_btns_wrapper").addClass("slideDown");$(".sub_fab_btns_wrapper").removeClass("slideUp")}]]]];aw.removeFromFavourites=[["Remove from bookmark",function(az,ay,aB){if(az.fav!=undefined){var aC=az.fav.mID;var aA=aw.favourites.filter(function(aD){return aD.mID==aC}).length;if(aA>0){angular.forEach(aw.favourites,function(aE,aD){if(aE.mID==aC){am.removeFromFavourites(aC).then(function(aF){if(aF.data.type=="2"){g.add(aF.data.msg,"danger",5000)}else{aw.favourites.splice(aD,1)}})}})}}}]];if(!ao){ao=al(ap,ar)}ao(aw,function(ay,az){au.append(ay)});var av=$("#main_fab").find(".kc_fab_main_btn");var ax=$("#main_fab").find(".sub_fab_btns_wrapper");setTimeout(function(){$("#main_fab").draggable({cancel:false,stop:function(ay,az){$(ay.toElement).one("click",function(aA){aA.stopImmediatePropagation()})}})},1000);av.click(function(ay){ax.toggleClass("show");if($(".kc_fab_overlay").length>0){$(".kc_fab_overlay").remove();av.removeClass("kc_fab_main_btn_focus")}else{$("body").append('<div class="kc_fab_overlay" ></div>');av.addClass("kc_fab_main_btn_focus");$(".kc_fab_overlay").on("click",function(){ax.removeClass("show");var az=$(".kc_fab_overlay");av.removeClass("kc_fab_main_btn_focus");az.remove()})}})}},}};ai.directive("ngFab",["$compile","$document","dataService",v]);var r=function(){return{restrict:"A",require:"ngModel",link:function(an,al,ak,am){setTimeout(function(){am.$setViewValue(moment(am.$viewValue).format("MM/DD/YYYY h:mm A"));am.$render();$(function(){$("#"+ak.id).datetimepicker({sideBySide:true}).on("dp.change",function(ao){if(ao.date._d!=undefined){am.$setViewValue(moment(ao.date._d).format("MM/DD/YYYY h:mm A"));am.$render()}}).on("dp.show",function(){$(".bootstrap-datetimepicker-widget").removeClass("top").addClass("bottom").addClass("detailBottom");$(".bootstrap-datetimepicker-widget").css("top","")})})},100)}}};ai.directive("makeDatetimePickerDetail",[r]);var q=function(){return{restrict:"A",require:"ngModel",link:function(an,al,ak,am){setTimeout(function(){am.$setViewValue(moment(am.$viewValue).format("MM/DD/YYYY h:mm A"));am.$render();$(function(){$("#"+ak.id).datetimepicker({sideBySide:true}).on("dp.change",function(ao){if(ao.date._d!=undefined){am.$setViewValue(moment(ao.date._d).format("MM/DD/YYYY h:mm A"));am.$render()}}).on("dp.show",function(){$(".bootstrap-datetimepicker-widget").addClass("top");$(".bootstrap-datetimepicker-widget").css("bottom","28px!important")})})},100)}}};ai.directive("makeDatetimePicker",[q])});