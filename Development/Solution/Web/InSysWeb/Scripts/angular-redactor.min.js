!function(){"use strict";var e={};angular.module("angular-redactor",[]).constant("redactorOptions",e).directive("redactor",["$timeout",function(a){return{restrict:"A",require:"ngModel",scope:{},link:function(r,t,n,c){r.redactorLoaded=!1,r.firstLoad=!1;var i,o=function(e){a(function(){r.$apply(function(){if(c.$setViewValue(e),!r.firstLoad){c.$setPristine(),r.firstLoad=!0;try{r.$parent.mainform.$setPristine()}catch(a){}}})})},l={changeCallback:o},d=n.redactor?r.$eval(n.redactor):{},u=angular.element(t);angular.extend(l,e,d);var s=d.changeCallback||e.changeCallback;s&&(l.changeCallback=function(e){o.call(this,e),s.call(this,e)}),a(function(){i=u.redactor(l),c.$render()}),c.$render=function(){angular.isDefined(i)&&a(function(){u.redactor("code.set",c.$viewValue||""),r.redactorLoaded=!0})}}}}])}();