/**
 * 
 * @version v0.1.1
 * @link https://github.com/teropa/angular-virtual-dom
 * @license MIT License, http://www.opensource.org/licenses/MIT
 *
 * Bundles virtual-dom by Matt-Esch <matt@mattesch.info>
 * @link https://github.com/Matt-Esch/virtual-dom
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="teropa.virtualDom"),function(a,b,c){!function(b){var c;"undefined"!=typeof a?c=a:"undefined"!=typeof global?c=global:"undefined"!=typeof self&&(c=self),c.virtualDom=b()}(function(){return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c=a("./vdom/create-element.js");b.exports=c},{"./vdom/create-element.js":14}],2:[function(a,b){var c=a("./vtree/diff.js");b.exports=c},{"./vtree/diff.js":34}],3:[function(a,b){var c=a("./virtual-hyperscript/index.js");b.exports=c},{"./virtual-hyperscript/index.js":21}],4:[function(a,b){var c=a("./diff.js"),d=a("./patch.js"),e=a("./h.js"),f=a("./create-element.js"),g=a("./vnode/vnode.js"),h=a("./vnode/vtext.js"),i=a("./vnode/is-vnode.js"),j=a("./vnode/is-vtext.js");b.exports={diff:c,patch:d,h:e,create:f,VNode:g,VText:h,isVNode:i,isVText:j}},{"./create-element.js":1,"./diff.js":2,"./h.js":3,"./patch.js":12,"./vnode/is-vnode.js":26,"./vnode/is-vtext.js":27,"./vnode/vnode.js":30,"./vnode/vtext.js":32}],5:[function(a,b){b.exports=function(a){var b,c=String.prototype.split,d=/()??/.exec("")[1]===a;return b=function(b,e,f){if("[object RegExp]"!==Object.prototype.toString.call(e))return c.call(b,e,f);var g,h,i,j,k=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),m=0,e=new RegExp(e.source,l+"g");for(b+="",d||(g=new RegExp("^"+e.source+"$(?!\\s)",l)),f=f===a?-1>>>0:f>>>0;(h=e.exec(b))&&(i=h.index+h[0].length,!(i>m&&(k.push(b.slice(m,h.index)),!d&&h.length>1&&h[0].replace(g,function(){for(var b=1;b<arguments.length-2;b++)arguments[b]===a&&(h[b]=a)}),h.length>1&&h.index<b.length&&Array.prototype.push.apply(k,h.slice(1)),j=h[0].length,m=i,k.length>=f)));)e.lastIndex===h.index&&e.lastIndex++;return m===b.length?(j||!e.test(""))&&k.push(""):k.push(b.slice(m)),k.length>f?k.slice(0,f):k}}()},{}],6:[function(a,b){"use strict";function c(a){var b=a[f];return b||(b=a[f]={}),b}var d=a("individual/one-version"),e="7";d("ev-store",e);var f="__EV_STORE_KEY@"+e;b.exports=c},{"individual/one-version":8}],7:[function(b,c){(function(b){"use strict";function d(a,b){return a in e?e[a]:(e[a]=b,b)}var e="undefined"!=typeof a?a:"undefined"!=typeof b?b:{};c.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof a?a:{})},{}],8:[function(a,b){"use strict";function c(a,b,c){var e="__INDIVIDUAL_ONE_VERSION_"+a,f=e+"_ENFORCE_SINGLETON",g=d(f,b);if(g!==b)throw new Error("Can only have one copy of "+a+".\nYou already have version "+g+" installed.\nThis means you cannot install version "+b);return d(e,c)}var d=a("./index.js");b.exports=c},{"./index.js":7}],9:[function(b,c){(function(d){var e="undefined"!=typeof d?d:"undefined"!=typeof a?a:{},f=b("min-document");if("undefined"!=typeof document)c.exports=document;else{var g=e["__GLOBAL_DOCUMENT_CACHE@4"];g||(g=e["__GLOBAL_DOCUMENT_CACHE@4"]=f),c.exports=g}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof a?a:{})},{"min-document":35}],10:[function(a,b){"use strict";b.exports=function(a){return"object"==typeof a&&null!==a}},{}],11:[function(a,b){function c(a){return"[object Array]"===e.call(a)}var d=Array.isArray,e=Object.prototype.toString;b.exports=d||c},{}],12:[function(a,b){var c=a("./vdom/patch.js");b.exports=c},{"./vdom/patch.js":17}],13:[function(a,b){function d(a,b,d){for(var g in b){var j=b[g];j===c?e(a,g,j,d):i(j)?(e(a,g,j,d),j.hook&&j.hook(a,g,d?d[g]:c)):h(j)?f(a,b,d,g,j):a[g]=j}}function e(a,b,c,d){if(d){var e=d[b];if(i(e))e.unhook&&e.unhook(a,b,c);else if("attributes"===b)for(var f in e)a.removeAttribute(f);else if("style"===b)for(var g in e)a.style[g]="";else a[b]="string"==typeof e?"":null}}function f(a,b,d,e,f){var i=d?d[e]:c;if("attributes"!==e){if(i&&h(i)&&g(i)!==g(f))return void(a[e]=f);h(a[e])||(a[e]={});var j="style"===e?"":c;for(var k in f){var l=f[k];a[e][k]=l===c?j:l}}else for(var m in f){var n=f[m];n===c?a.removeAttribute(m):a.setAttribute(m,n)}}function g(a){return Object.getPrototypeOf?Object.getPrototypeOf(a):a.__proto__?a.__proto__:a.constructor?a.constructor.prototype:void 0}var h=a("is-object"),i=a("../vnode/is-vhook.js");b.exports=d},{"../vnode/is-vhook.js":25,"is-object":10}],14:[function(a,b){function c(a,b){var j=b?b.document||d:d,k=b?b.warn:null;if(a=i(a).a,h(a))return a.init();if(g(a))return j.createTextNode(a.text);if(!f(a))return k&&k("Item is not a valid virtual dom node",a),null;var l=null===a.namespace?j.createElement(a.tagName):j.createElementNS(a.namespace,a.tagName),m=a.properties;e(l,m);for(var n=a.children,o=0;o<n.length;o++){var p=c(n[o],b);p&&l.appendChild(p)}return l}var d=a("global/document"),e=a("./apply-properties"),f=a("../vnode/is-vnode.js"),g=a("../vnode/is-vtext.js"),h=a("../vnode/is-widget.js"),i=a("../vnode/handle-thunk.js");b.exports=c},{"../vnode/handle-thunk.js":23,"../vnode/is-vnode.js":26,"../vnode/is-vtext.js":27,"../vnode/is-widget.js":28,"./apply-properties":13,"global/document":9}],15:[function(a,b){function c(a,b,c,e){return c&&0!==c.length?(c.sort(f),d(a,b,c,e,0)):{}}function d(a,b,c,f,h){if(f=f||{},a){e(c,h,h)&&(f[h]=a);var i=b.children;if(i)for(var j=a.childNodes,k=0;k<b.children.length;k++){h+=1;var l=i[k]||g,m=h+(l.count||0);e(c,h,m)&&d(j[k],l,c,f,h),h=m}}return f}function e(a,b,c){if(0===a.length)return!1;for(var d,e,f=0,g=a.length-1;g>=f;){if(d=(g+f)/2>>0,e=a[d],f===g)return e>=b&&c>=e;if(b>e)f=d+1;else{if(!(e>c))return!0;g=d-1}}return!1}function f(a,b){return a>b?1:-1}var g={};b.exports=c},{}],16:[function(a,b){function d(a,b,c){var d=a.type,j=a.vNode,n=a.patch;switch(d){case o.REMOVE:return e(b,j);case o.INSERT:return f(b,n,c);case o.VTEXT:return g(b,j,n,c);case o.WIDGET:return h(b,j,n,c);case o.VNODE:return i(b,j,n,c);case o.ORDER:return k(b,n),b;case o.PROPS:return m(b,n,j.properties),b;case o.THUNK:return l(b,c.patch(b,n,c));default:return b}}function e(a,b){var c=a.parentNode;return c&&c.removeChild(a),j(a,b),null}function f(a,b,c){var d=p(b,c);return a&&a.appendChild(d),a}function g(a,b,c,d){var e;if(3===a.nodeType)a.replaceData(0,a.length,c.text),e=a;else{var f=a.parentNode;e=p(c,d),f&&f.replaceChild(e,a)}return e}function h(a,b,c,d){var e,f=q(b,c);e=f?c.update(b,a)||a:p(c,d);var g=a.parentNode;return g&&e!==a&&g.replaceChild(e,a),f||j(a,b),e}function i(a,b,c,d){var e=a.parentNode,f=p(c,d);return e&&e.replaceChild(f,a),f}function j(a,b){"function"==typeof b.destroy&&n(b)&&b.destroy(a)}function k(a,b){var d,e=[],f=a.childNodes,g=f.length,h=b.reverse;for(d=0;g>d;d++)e.push(a.childNodes[d]);var i,j,k,l,m,n=0;for(d=0;g>d;){if(i=b[d],l=1,i!==c&&i!==d){for(;b[d+l]===i+l;)l++;for(h[d]>d+l&&n++,j=e[i],k=f[d+n]||null,m=0;j!==k&&m++<l;)a.insertBefore(j,k),j=e[i+m];d>i+l&&n--}d in b.removes&&n++,d+=l}}function l(a,b){return a&&b&&a!==b&&a.parentNode&&(console.log(a),a.parentNode.replaceChild(b,a)),b}var m=a("./apply-properties"),n=a("../vnode/is-widget.js"),o=a("../vnode/vpatch.js"),p=a("./create-element"),q=a("./update-widget");b.exports=d},{"../vnode/is-widget.js":28,"../vnode/vpatch.js":31,"./apply-properties":13,"./create-element":14,"./update-widget":18}],17:[function(a,b){function c(a,b){return d(a,b)}function d(a,b,c){var h=f(b);if(0===h.length)return a;var j=i(a,b.a,h),k=a.ownerDocument;c||(c={patch:d},k!==g&&(c.document=k));for(var l=0;l<h.length;l++){var m=h[l];a=e(a,j[m],b[m],c)}return a}function e(a,b,c,d){if(!b)return a;var e;if(h(c))for(var f=0;f<c.length;f++)e=j(c[f],b,d),b===a&&(a=e);else e=j(c,b,d),b===a&&(a=e);return a}function f(a){var b=[];for(var c in a)"a"!==c&&b.push(Number(c));return b}var g=a("global/document"),h=a("x-is-array"),i=a("./dom-index"),j=a("./patch-op");b.exports=c},{"./dom-index":15,"./patch-op":16,"global/document":9,"x-is-array":11}],18:[function(a,b){function c(a,b){return d(a)&&d(b)?"name"in a&&"name"in b?a.id===b.id:a.init===b.init:!1}var d=a("../vnode/is-widget.js");b.exports=c},{"../vnode/is-widget.js":28}],19:[function(a,b){"use strict";function d(a){return this instanceof d?void(this.value=a):new d(a)}var e=a("ev-store");b.exports=d,d.prototype.hook=function(a,b){var c=e(a),d=b.substr(3);c[d]=this.value},d.prototype.unhook=function(a,b){var d=e(a),f=b.substr(3);d[f]=c}},{"ev-store":6}],20:[function(a,b){"use strict";function c(a){return this instanceof c?void(this.value=a):new c(a)}b.exports=c,c.prototype.hook=function(a,b){a[b]!==this.value&&(a[b]=this.value)}},{}],21:[function(a,b){"use strict";function d(a,b,d){var g,i,j,k,m=[];return!d&&h(b)&&(d=b,i={}),i=i||b||{},g=s(a,i),i.hasOwnProperty("key")&&(j=i.key,i.key=c),i.hasOwnProperty("namespace")&&(k=i.namespace,i.namespace=c),"INPUT"!==g||k||!i.hasOwnProperty("value")||i.value===c||q(i.value)||(i.value=t(i.value)),f(i),d!==c&&null!==d&&e(d,m,g,i),new l(g,i,m,j,k)}function e(a,b,d,f){if("string"==typeof a)b.push(new m(a));else if(g(a))b.push(a);else{if(!k(a)){if(null===a||a===c)return;throw i({foreignObject:a,parentVnode:{tagName:d,properties:f}})}for(var h=0;h<a.length;h++)e(a[h],b,d,f)}}function f(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];if(q(c))continue;"ev-"===b.substr(0,3)&&(a[b]=u(c))}}function g(a){return n(a)||o(a)||p(a)||r(a)}function h(a){return"string"==typeof a||k(a)||g(a)}function i(a){var b=new Error;return b.type="virtual-hyperscript.unexpected.virtual-element",b.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+j(a.foreignObject)+".\nThe parent vnode is:\n"+j(a.parentVnode),b.foreignObject=a.foreignObject,b.parentVnode=a.parentVnode,b}function j(a){try{return JSON.stringify(a,null,"    ")}catch(b){return String(a)}}var k=a("x-is-array"),l=a("../vnode/vnode.js"),m=a("../vnode/vtext.js"),n=a("../vnode/is-vnode"),o=a("../vnode/is-vtext"),p=a("../vnode/is-widget"),q=a("../vnode/is-vhook"),r=a("../vnode/is-thunk"),s=a("./parse-tag.js"),t=a("./hooks/soft-set-hook.js"),u=a("./hooks/ev-hook.js");b.exports=d},{"../vnode/is-thunk":24,"../vnode/is-vhook":25,"../vnode/is-vnode":26,"../vnode/is-vtext":27,"../vnode/is-widget":28,"../vnode/vnode.js":30,"../vnode/vtext.js":32,"./hooks/ev-hook.js":19,"./hooks/soft-set-hook.js":20,"./parse-tag.js":22,"x-is-array":11}],22:[function(a,b){"use strict";function c(a,b){if(!a)return"DIV";var c=!b.hasOwnProperty("id"),g=d(a,e),h=null;f.test(g[1])&&(h="DIV");var i,j,k,l;for(l=0;l<g.length;l++)j=g[l],j&&(k=j.charAt(0),h?"."===k?(i=i||[],i.push(j.substring(1,j.length))):"#"===k&&c&&(b.id=j.substring(1,j.length)):h=j);return i&&(b.className&&i.push(b.className),b.className=i.join(" ")),b.namespace?h:h.toUpperCase()}var d=a("browser-split"),e=/([\.#]?[a-zA-Z0-9_:-]+)/,f=/^\.|#/;b.exports=c},{"browser-split":5}],23:[function(a,b){function c(a,b){var c=a,e=b;return h(b)&&(e=d(b,a)),h(a)&&(c=d(a,null)),{a:c,b:e}}function d(a,b){var c=a.vnode;if(c||(c=a.vnode=a.render(b)),!(e(c)||f(c)||g(c)))throw new Error("thunk did not return a valid node");return c}var e=a("./is-vnode"),f=a("./is-vtext"),g=a("./is-widget"),h=a("./is-thunk");b.exports=c},{"./is-thunk":24,"./is-vnode":26,"./is-vtext":27,"./is-widget":28}],24:[function(a,b){function c(a){return a&&"Thunk"===a.type}b.exports=c},{}],25:[function(a,b){function c(a){return a&&("function"==typeof a.hook&&!a.hasOwnProperty("hook")||"function"==typeof a.unhook&&!a.hasOwnProperty("unhook"))}b.exports=c},{}],26:[function(a,b){function c(a){return a&&"VirtualNode"===a.type&&a.version===d}var d=a("./version");b.exports=c},{"./version":29}],27:[function(a,b){function c(a){return a&&"VirtualText"===a.type&&a.version===d}var d=a("./version");b.exports=c},{"./version":29}],28:[function(a,b){function c(a){return a&&"Widget"===a.type}b.exports=c},{}],29:[function(a,b){b.exports="1"},{}],30:[function(a,b){function d(a,b,d,e,l){this.tagName=a,this.properties=b||j,this.children=d||k,this.key=null!=e?String(e):c,this.namespace="string"==typeof l?l:null;var m,n=d&&d.length||0,o=0,p=!1,q=!1,r=!1;for(var s in b)if(b.hasOwnProperty(s)){var t=b[s];i(t)&&t.unhook&&(m||(m={}),m[s]=t)}for(var u=0;n>u;u++){var v=d[u];f(v)?(o+=v.count||0,!p&&v.hasWidgets&&(p=!0),!q&&v.hasThunks&&(q=!0),r||!v.hooks&&!v.descendantHooks||(r=!0)):!p&&g(v)?"function"==typeof v.destroy&&(p=!0):!q&&h(v)&&(q=!0)}this.count=n+o,this.hasWidgets=p,this.hasThunks=q,this.hooks=m,this.descendantHooks=r}var e=a("./version"),f=a("./is-vnode"),g=a("./is-widget"),h=a("./is-thunk"),i=a("./is-vhook");b.exports=d;var j={},k=[];d.prototype.version=e,d.prototype.type="VirtualNode"},{"./is-thunk":24,"./is-vhook":25,"./is-vnode":26,"./is-widget":28,"./version":29}],31:[function(a,b){function c(a,b,c){this.type=Number(a),this.vNode=b,this.patch=c}var d=a("./version");c.NONE=0,c.VTEXT=1,c.VNODE=2,c.WIDGET=3,c.PROPS=4,c.ORDER=5,c.INSERT=6,c.REMOVE=7,c.THUNK=8,b.exports=c,c.prototype.version=d,c.prototype.type="VirtualPatch"},{"./version":29}],32:[function(a,b){function c(a){this.text=String(a)}var d=a("./version");b.exports=c,c.prototype.version=d,c.prototype.type="VirtualText"},{"./version":29}],33:[function(a,b){function d(a,b){var h;for(var i in a){i in b||(h=h||{},h[i]=c);var j=a[i],k=b[i];if(j!==k)if(f(j)&&f(k))if(e(k)!==e(j))h=h||{},h[i]=k;else if(g(k))h=h||{},h[i]=k;else{var l=d(j,k);l&&(h=h||{},h[i]=l)}else h=h||{},h[i]=k}for(var m in b)m in a||(h=h||{},h[m]=b[m]);return h}function e(a){return Object.getPrototypeOf?Object.getPrototypeOf(a):a.__proto__?a.__proto__:a.constructor?a.constructor.prototype:void 0}var f=a("is-object"),g=a("../vnode/is-vhook");b.exports=d},{"../vnode/is-vhook":25,"is-object":10}],34:[function(a,b){function d(a,b){var c={a:a};return e(a,b,c,0),c}function e(a,b,c,d){if(a!==b){var e=c[d],h=!1;if(u(a)||u(b))i(a,b,c,d);else if(null==b)t(a)||(g(a,c,d),e=c[d]),e=o(e,new q(q.REMOVE,a,b));else if(r(b))if(r(a))if(a.tagName===b.tagName&&a.namespace===b.namespace&&a.key===b.key){var j=w(a.properties,b.properties);j&&(e=o(e,new q(q.PROPS,a,j))),e=f(a,b,c,e,d)}else e=o(e,new q(q.VNODE,a,b)),h=!0;else e=o(e,new q(q.VNODE,a,b)),h=!0;else s(b)?s(a)?a.text!==b.text&&(e=o(e,new q(q.VTEXT,a,b))):(e=o(e,new q(q.VTEXT,a,b)),h=!0):t(b)&&(t(a)||(h=!0),e=o(e,new q(q.WIDGET,a,b)));e&&(c[d]=e),h&&g(a,c,d)}}function f(a,b,c,d,f){for(var g=a.children,h=m(g,b.children),i=g.length,j=h.length,k=i>j?i:j,l=0;k>l;l++){var n=g[l],p=h[l];f+=1,n?e(n,p,c,f):p&&(d=o(d,new q(q.INSERT,null,p))),r(n)&&n.count&&(f+=n.count)}return h.moves&&(d=o(d,new q(q.ORDER,a,h.moves))),d}function g(a,b,c){k(a,b,c),h(a,b,c)}function h(a,b,c){if(t(a))"function"==typeof a.destroy&&(b[c]=o(b[c],new q(q.REMOVE,a,null)));else if(r(a)&&(a.hasWidgets||a.hasThunks))for(var d=a.children,e=d.length,f=0;e>f;f++){var g=d[f];c+=1,h(g,b,c),r(g)&&g.count&&(c+=g.count)}else u(a)&&i(a,null,b,c)}function i(a,b,c,e){var f=v(a,b),g=d(f.a,f.b);j(g)&&(c[e]=new q(q.THUNK,null,g))}function j(a){for(var b in a)if("a"!==b)return!0;return!1}function k(a,b,c){if(r(a)){if(a.hooks&&(b[c]=o(b[c],new q(q.PROPS,a,l(a.hooks)))),a.descendantHooks||a.hasThunks)for(var d=a.children,e=d.length,f=0;e>f;f++){var g=d[f];c+=1,k(g,b,c),r(g)&&g.count&&(c+=g.count)}}else u(a)&&i(a,null,b,c)}function l(a){var b={};for(var d in a)b[d]=c;return b}function m(a,b){var d=n(b);if(!d)return b;var e=n(a);if(!e)return b;var f={},g={};for(var h in d)f[d[h]]=e[h];for(var i in e)g[e[i]]=d[i];for(var j=a.length,k=b.length,l=j>k?j:k,m=[],o=0,p=0,q=0,r={},s=r.removes={},t=r.reverse={},u=!1;l>o;){var v=g[p];if(v!==c)m[p]=b[v],v!==q&&(r[v]=q,t[q]=v,u=!0),q++;else if(p in g)m[p]=c,s[p]=q++,u=!0;else{for(;f[o]!==c;)o++;if(l>o){var w=b[o];w&&(m[p]=w,o!==q&&(u=!0,r[o]=q,t[q]=o),q++),o++}}p++}return u&&(m.moves=r),m}function n(a){var b,d;for(b=0;b<a.length;b++){var e=a[b];e.key!==c&&(d=d||{},d[e.key]=b)}return d}function o(a,b){return a?(p(a)?a.push(b):a=[a,b],a):b}var p=a("x-is-array"),q=a("../vnode/vpatch"),r=a("../vnode/is-vnode"),s=a("../vnode/is-vtext"),t=a("../vnode/is-widget"),u=a("../vnode/is-thunk"),v=a("../vnode/handle-thunk"),w=a("./diff-props");b.exports=d},{"../vnode/handle-thunk":23,"../vnode/is-thunk":24,"../vnode/is-vnode":26,"../vnode/is-vtext":27,"../vnode/is-widget":28,"../vnode/vpatch":31,"./diff-props":33,"x-is-array":11}],35:[function(){},{}]},{},[4])(4)}),b.module("teropa.virtualDom.getAttribute",[]).factory("getVDomAttribute",function(){"use strict";return function(a,b){return a.properties&&a.properties.attributes?a.properties.attributes[b]:void 0}}),b.module("teropa.virtualDom.directiveNormalize",[]).factory("directiveNormalize",function(){function a(a){return a.replace(b,function(a,b,c,d){return d?c.toUpperCase():c}).replace(c,"Moz$1")}var b=/([\:\-\_]+(.))/g,c=/^moz([A-Z])/,d=/^((?:x|data)[\:\-_])/i;return function(b){return a(b.replace(d,""))}}),b.module("teropa.virtualDom.cloneTree",[]).factory("cloneVDomTree",function(){"use strict";return function a(c){return virtualDom.isVNode(c)?new virtualDom.VNode(c.tagName,b.copy(c.properties),c.children.map(a)):virtualDom.isVText(c)?new virtualDom.VText(c.text):void 0}}),b.module("teropa.virtualDom.virtualize",[]).factory("virtualizeDom",function(){"use strict";function a(a){return new virtualDom.VText(a.nodeValue)}function b(a){var b={};return Array.prototype.forEach.call(a.attributes,function(a){b[a.name]=a.value}),{attributes:b}}function c(a){var b=[];return Array.prototype.forEach.call(a.childNodes,function(a){var c=e(a);c&&b.push(c)}),b}function d(a){return new virtualDom.VNode(a.tagName.toLowerCase(),b(a),c(a))}function e(b){return b.nodeType===Node.TEXT_NODE?a(b):b.nodeType===Node.ELEMENT_NODE?d(b):void 0}return e}),b.module("teropa.virtualDom.link",["teropa.virtualDom.cloneTree","teropa.virtualDom.directiveNormalize"]).factory("linkVDom",["$injector","$interpolate","directiveNormalize","cloneVDomTree",function(a,b,c,d){"use strict";function e(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function f(b){var d=[];return b.properties&&b.properties.attributes&&Object.keys(b.properties.attributes).forEach(function(b){var e=c(b)+"Directive";a.has(e)&&d.push.apply(d,a.get(e))}),d.sort(e)}function g(a,c){a.$scope=c;var d;if(virtualDom.isVNode(a)){var e=f(a);d=e.reduce(function(a,b){var c=[];return a.forEach(function(a){var d=a;b.linkVirtual&&(d=b.linkVirtual(a)),Array.isArray(d)?c.push.apply(c,d):c.push(d?d:a)}),c},[a]),d.forEach(function(a){a.properties&&a.properties.attributes&&Object.keys(a.properties.attributes).forEach(function(c){var d=b(a.properties.attributes[c]);d&&(a.properties.attributes[c]=d(a.$scope))});var c=[];a.children.forEach(function(b){c.push.apply(c,g(b,a.$scope))}),a.children=c})}else a.text=b(a.text)(a.$scope),d=[a];return d}return function(a,b){var c=d(a);return g(c,b)[0]}}]),b.module("teropa.virtualDom.vIf",["teropa.virtualDom.getAttribute"]).directive("vIf",["$parse","getVDomAttribute",function(a,b){"use strict";return{restrict:"A",priority:600,linkVirtual:function(c){var d=a(b(c,"v-if"));return d(c.$scope)?c:[]}}}]),b.module("teropa.virtualDom.vRepeat",["teropa.virtualDom.getAttribute","teropa.virtualDom.cloneTree"]).directive("vRepeat",["$parse","getVDomAttribute","cloneVDomTree",function(a,b,c){"use strict";function d(a,b){if(Array.isArray(a))return a[b];if(a[f]){var c,d=a[f]();for(c=0;b>c;c++)d.next();return d.next().value}}function e(a,b){a.$index=b,a.$even=b%2===0,a.$odd=!a.$even}var f="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";return{restrict:"A",priority:1e3,linkVirtual:function(g){var h=b(g,"v-repeat"),i=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/),j=i[1],k=i[2];i=j.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);var l=i[3]||i[1],m=i[2],n=a(k)(g.$scope);if(Array.isArray(n))return n.map(function(a,b){var d=c(g);return d.$scope=g.$scope.$new(),d.$scope[l]=a,e(d.$scope,b),d});if(n&&n[f]){for(var o=n[f](),p=[],q=0,r=o.next();!r.done;){var s=r.value,t=c(g);t.$scope=g.$scope.$new(),m?(t.$scope[m]=d(s,0),t.$scope[l]=d(s,1)):t.$scope[l]=s,e(t.$scope,q),p.push(t),q++,r=o.next()}return p}return"object"==typeof n&&null!==n?Object.keys(n).map(function(a,b){var d=c(g);return d.$scope=g.$scope.$new(),d.$scope[m]=a,d.$scope[l]=n[a],e(d.$scope,b),d}):[]}}}]),b.module("teropa.virtualDom.vRoot",["teropa.virtualDom.virtualize","teropa.virtualDom.link"]).directive("vRoot",["$injector","$interpolate","virtualizeDom","linkVDom",function(a,c,d,e){"use strict";return{compile:function(a){var c=a[0],f=d(c);return a.empty(),function(a,c,d){function g(){if(j){var b=e(f,a),c=virtualDom.diff(h,b);i=virtualDom.patch(i,c),h=b,j=!1}}var h=e(f,a),i=virtualDom.create(h);c.replaceWith(i);var j;a.$watch(d.vRoot,function(){j=!0,a.$$postDigest(g)}),a.$on("$destroy",function(){b.element(i).remove()})}}}}]),b.module("teropa.virtualDom",["teropa.virtualDom.getAttribute","teropa.virtualDom.cloneTree","teropa.virtualDom.virtualize","teropa.virtualDom.link","teropa.virtualDom.vIf","teropa.virtualDom.vRepeat","teropa.virtualDom.vRoot"])}(window,window.angular);